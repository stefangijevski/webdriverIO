/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var z=["require","exports","vs/base/common/lifecycle","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/base","vs/base/common/equals","vs/base/common/observableInternal/logging","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/derived","vs/base/common/errors","vs/editor/common/tokens/lineTokens","vs/editor/common/encodedTokenAttributes","vs/base/common/arrays","vs/base/common/observable","vs/base/common/buffer","vs/editor/common/core/eolCounter","vs/editor/common/core/lineRange","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/amdX","vs/base/common/platform","vs/editor/common/languages/nullTokenize","vs/base/common/amd","vs/base/common/assert","vs/base/common/observableInternal/lazyObservableValue","vs/base/common/observableInternal/api","vs/base/common/observableInternal/promise","vs/base/common/observableInternal/utils","vs/base/common/event","vs/base/common/stream","vs/editor/common/model/fixedArray","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousMultilineTokens","vs/base/common/uri","vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/base/common/async","vs/base/common/stopwatch","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerHost","vs/workbench/services/textMate/browser/tokenizationSupport/textMateTokenizationSupport","vs/workbench/services/textMate/browser/tokenizationSupport/tokenizationSupportWithLineLimit","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer","vs/workbench/services/textMate/common/TMScopeRegistry","vs/workbench/services/textMate/common/TMGrammarFactory","vs/base/common/cancellation","vs/base/common/lazy","vs/base/common/charCode","vs/editor/common/core/position","vs/base/common/network","vs/base/common/types","vs/editor/common/core/offsetRange","vs/editor/common/model/mirrorTextModel","vs/base/common/resources","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker"],R=function(D){for(var e=[],y=0,$=D.length;y<$;y++)e[y]=z[D[y]];return e};define(z[21],R([0,1]),function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$X=e.LoaderEventType=e.$W=e.$V=void 0,e.$V=!1,e.$W=!0;var y;(function(O){O[O.LoaderAvailable=1]="LoaderAvailable",O[O.BeginLoadingScript=10]="BeginLoadingScript",O[O.EndLoadingScriptOK=11]="EndLoadingScriptOK",O[O.EndLoadingScriptError=12]="EndLoadingScriptError",O[O.BeginInvokeFactory=21]="BeginInvokeFactory",O[O.EndInvokeFactory=22]="EndInvokeFactory",O[O.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",O[O.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",O[O.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",O[O.NodeEndNativeRequire=34]="NodeEndNativeRequire",O[O.CachedDataFound=60]="CachedDataFound",O[O.CachedDataMissed=61]="CachedDataMissed",O[O.CachedDataRejected=62]="CachedDataRejected",O[O.CachedDataCreated=63]="CachedDataCreated"})(y||(e.LoaderEventType=y={}));class ${static get(){const v=new Map,h=new Map,t=new Map,i=new Map;function f(n,s){n.has(s.detail)||n.set(s.detail,-s.timestamp)}function r(n,s){const u=n.get(s.detail);u&&(u>=0||n.set(s.detail,u+s.timestamp))}let d=[];typeof D=="function"&&typeof D.getStats=="function"&&(d=D.getStats().slice(0).sort((n,s)=>n.timestamp-s.timestamp));for(const n of d)switch(n.type){case y.BeginLoadingScript:f(v,n);break;case y.EndLoadingScriptOK:case y.EndLoadingScriptError:r(v,n);break;case y.BeginInvokeFactory:f(h,n);break;case y.EndInvokeFactory:r(h,n);break;case y.NodeBeginNativeRequire:f(t,n);break;case y.NodeEndNativeRequire:r(t,n);break;case y.NodeBeginEvaluatingScript:f(i,n);break;case y.NodeEndEvaluatingScript:r(i,n);break}let b=0;t.forEach(n=>b+=n);function c(n){const s=[];return n.forEach((u,o)=>s.push([o,u])),s}return{amdLoad:c(v),amdInvoke:c(h),nodeRequire:c(t),nodeEval:c(i),nodeRequireTotal:b}}static toMarkdownTable(v,h){let t="";const i=[];return v.forEach((f,r)=>{i[r]=f.length}),h.forEach(f=>{f.forEach((r,d)=>{typeof r>"u"&&(r=f[d]="-");const b=r.toString().length;i[d]=Math.max(b,i[d])})}),v.forEach((f,r)=>{t+=`| ${f+" ".repeat(i[r]-f.toString().length)} `}),t+=`|
`,v.forEach((f,r)=>{t+=`| ${"-".repeat(i[r])} `}),t+=`|
`,h.forEach(f=>{f.forEach((r,d)=>{typeof r<"u"&&(t+=`| ${r+" ".repeat(i[d]-r.toString().length)} `)}),t+=`|
`}),t}}e.$X=$});var J=this&&this.__createBinding||(Object.create?function(D,e,y,$){$===void 0&&($=y);var O=Object.getOwnPropertyDescriptor(e,y);(!O||("get"in O?!e.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return e[y]}}),Object.defineProperty(D,$,O)}:function(D,e,y,$){$===void 0&&($=y),D[$]=e[y]}),_=this&&this.__setModuleDefault||(Object.create?function(D,e){Object.defineProperty(D,"default",{enumerable:!0,value:e})}:function(D,e){D.default=e}),K=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var e={};if(D!=null)for(var y in D)y!=="default"&&Object.prototype.hasOwnProperty.call(D,y)&&J(e,D,y);return _(e,D),e};define(z[5],R([0,1,12]),function(D,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$c=void 0,e.$_c=O,e.$ad=v,e.$bd=h,e.$cd=t,e.$dd=i,e.$ed=f,y=K(y);const $=(c,n)=>c===n;e.$$c=$;function O(c=e.$$c){return(n,s)=>y.$yb(n,s,c)}function v(){return(c,n)=>JSON.stringify(c)===JSON.stringify(n)}function h(){return(c,n)=>c.equals(n)}function t(c,n,s){if(s!==void 0){const u=c;return u==null||n===void 0||n===null?n===u:s(u,n)}else{const u=c;return(o,g)=>o==null||g===void 0||g===null?g===o:u(o,g)}}function i(c,n){if(c===n)return!0;if(Array.isArray(c)&&Array.isArray(n)){if(c.length!==n.length)return!1;for(let s=0;s<c.length;s++)if(!i(c[s],n[s]))return!1;return!0}if(c&&typeof c=="object"&&n&&typeof n=="object"&&Object.getPrototypeOf(c)===Object.prototype&&Object.getPrototypeOf(n)===Object.prototype){const s=c,u=n,o=Object.keys(s),g=Object.keys(u),C=new Set(g);if(o.length!==g.length)return!1;for(const S of o)if(!C.has(S)||!i(s[S],u[S]))return!1;return!0}return!1}function f(c){return JSON.stringify(b(c))}let r=0;const d=new WeakMap;function b(c){if(Array.isArray(c))return c.map(b);if(c&&typeof c=="object")if(Object.getPrototypeOf(c)===Object.prototype){const n=c,s=Object.create(null);for(const u of Object.keys(n).sort())s[u]=b(n[u]);return s}else{let n=d.get(c);return n===void 0&&(n=r++,d.set(c,n)),n+"----2b76a038c20c4bcc"}return c}}),define(z[3],R([0,1]),function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fd=void 0,e.$gd=v,e.$hd=b;class y{constructor(n,s,u){this.owner=n,this.debugNameSource=s,this.referenceFn=u}getDebugName(n){return v(n,this)}}e.$fd=y;const $=new Map,O=new WeakMap;function v(c,n){const s=O.get(c);if(s)return s;const u=h(c,n);if(u){let o=$.get(u)??0;o++,$.set(u,o);const g=o===1?u:`${u}#${o}`;return O.set(c,g),g}}function h(c,n){const s=O.get(c);if(s)return s;const u=n.owner?r(n.owner)+".":"";let o;const g=n.debugNameSource;if(g!==void 0)if(typeof g=="function"){if(o=g(),o!==void 0)return u+o}else return u+g;const C=n.referenceFn;if(C!==void 0&&(o=b(C),o!==void 0))return u+o;if(n.owner!==void 0){const S=t(n.owner,c);if(S!==void 0)return u+S}}function t(c,n){for(const s in c)if(c[s]===n)return s}const i=new Map,f=new WeakMap;function r(c){const n=f.get(c);if(n)return n;const s=d(c);let u=i.get(s)??0;u++,i.set(s,u);const o=u===1?s:`${s}#${u}`;return f.set(c,o),o}function d(c){const n=c.constructor;return n?n.name:"Object"}function b(c){const n=c.toString(),u=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(n);return(u?u[1]:void 0)?.trim()}}),define(z[6],R([0,1]),function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rd=void 0,e.$Pd=$,e.$Qd=O;let y;function $(s){y=s}function O(){return y}class v{constructor(){this.a=0,this.d=new WeakMap}b(u){return h([t(c("|  ",this.a)),u])}c(u){return u.hadValue?u.didChange?[t(" "),f(r(u.oldValue,70),{color:"red",strikeThrough:!0}),t(" "),f(r(u.newValue,60),{color:"green"})]:[t(" (unchanged)")]:[t(" "),f(r(u.newValue,60),{color:"green"}),t(" (initial)")]}handleObservableChanged(u,o){console.log(...this.b([i("observable value changed"),f(u.debugName,{color:"BlueViolet"}),...this.c(o)]))}formatChanges(u){if(u.size!==0)return f(" (changed deps: "+[...u].map(o=>o.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(u){const o=u.handleChange;this.d.set(u,new Set),u.handleChange=(g,C)=>(this.d.get(u).add(g),o.apply(u,[g,C]))}handleDerivedRecomputed(u,o){const g=this.d.get(u);console.log(...this.b([i("derived recomputed"),f(u.debugName,{color:"BlueViolet"}),...this.c(o),this.formatChanges(g),{data:[{fn:u._debugNameData.referenceFn??u._computeFn}]}])),g.clear()}handleFromEventObservableTriggered(u,o){console.log(...this.b([i("observable from event triggered"),f(u.debugName,{color:"BlueViolet"}),...this.c(o),{data:[{fn:u._getValue}]}]))}handleAutorunCreated(u){const o=u.handleChange;this.d.set(u,new Set),u.handleChange=(g,C)=>(this.d.get(u).add(g),o.apply(u,[g,C]))}handleAutorunTriggered(u){const o=this.d.get(u);console.log(...this.b([i("autorun"),f(u.debugName,{color:"BlueViolet"}),this.formatChanges(o),{data:[{fn:u._debugNameData.referenceFn??u._runFn}]}])),o.clear(),this.a++}handleAutorunFinished(u){this.a--}handleBeginTransaction(u){let o=u.getDebugName();o===void 0&&(o=""),console.log(...this.b([i("transaction"),f(o,{color:"BlueViolet"}),{data:[{fn:u._fn}]}])),this.a++}handleEndTransaction(){this.a--}}e.$Rd=v;function h(s){const u=new Array,o=[];let g="";function C(k){if("length"in k)for(const E of k)E&&C(E);else"text"in k?(g+=`%c${k.text}`,u.push(k.style),k.data&&o.push(...k.data)):"data"in k&&o.push(...k.data)}C(s);const S=[g,...u];return S.push(...o),S}function t(s){return f(s,{color:"black"})}function i(s){return f(n(`${s}: `,10),{color:"black",bold:!0})}function f(s,u={color:"black"}){function o(C){return Object.entries(C).reduce((S,[k,E])=>`${S}${k}:${E};`,"")}const g={color:u.color};return u.strikeThrough&&(g["text-decoration"]="line-through"),u.bold&&(g["font-weight"]="bold"),{text:s,style:o(g)}}function r(s,u){switch(typeof s){case"number":return""+s;case"string":return s.length+2<=u?`"${s}"`:`"${s.substr(0,u-7)}"+...`;case"boolean":return s?"true":"false";case"undefined":return"undefined";case"object":return s===null?"null":Array.isArray(s)?d(s,u):b(s,u);case"symbol":return s.toString();case"function":return`[[Function${s.name?" "+s.name:""}]]`;default:return""+s}}function d(s,u){let o="[ ",g=!0;for(const C of s){if(g||(o+=", "),o.length-5>u){o+="...";break}g=!1,o+=`${r(C,u-o.length)}`}return o+=" ]",o}function b(s,u){let o="{ ",g=!0;for(const[C,S]of Object.entries(s)){if(g||(o+=", "),o.length-5>u){o+="...";break}g=!1,o+=`${C}: ${r(S,u-o.length)}`}return o+=" }",o}function c(s,u){let o="";for(let g=1;g<=u;g++)o+=s;return o}function n(s,u){for(;s.length<u;)s+=" ";return s}}),define(z[7],R([0,1,22,2,3,6]),function(D,e,y,$,O,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ud=void 0,e.$od=h,e.$pd=t,e.$qd=i,e.$rd=f,e.$sd=r,e.$td=d;function h(n){return new c(new O.$fd(void 0,void 0,n),n,void 0,void 0)}function t(n,s){return new c(new O.$fd(n.owner,n.debugName,n.debugReferenceFn??s),s,void 0,void 0)}function i(n,s){return new c(new O.$fd(n.owner,n.debugName,n.debugReferenceFn??s),s,n.createEmptyChangeSummary,n.handleChange)}function f(n,s){const u=new $.$Yc,o=i({owner:n.owner,debugName:n.debugName,debugReferenceFn:n.debugReferenceFn??s,createEmptyChangeSummary:n.createEmptyChangeSummary,handleChange:n.handleChange},(g,C)=>{u.clear(),s(g,C,u)});return(0,$.$Xc)(()=>{o.dispose(),u.dispose()})}function r(n){const s=new $.$Yc,u=t({owner:void 0,debugName:void 0,debugReferenceFn:n},o=>{s.clear(),n(o,s)});return(0,$.$Xc)(()=>{u.dispose(),s.dispose()})}function d(n,s){let u;return t({debugReferenceFn:s},o=>{const g=n.read(o),C=u;u=g,s({lastValue:C,newValue:g})})}var b;(function(n){n[n.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",n[n.stale=2]="stale",n[n.upToDate=3]="upToDate"})(b||(b={}));class c{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(s,u,o,g){this._debugNameData=s,this._runFn=u,this.h=o,this.i=g,this.a=b.stale,this.b=0,this.c=!1,this.e=new Set,this.f=new Set,this.g=this.h?.(),(0,v.$Qd)()?.handleAutorunCreated(this),this.j(),(0,$.$Qc)(this)}dispose(){this.c=!0;for(const s of this.e)s.removeObserver(this);this.e.clear(),(0,$.$Rc)(this)}j(){if(this.a===b.upToDate)return;const s=this.f;this.f=this.e,this.e=s,this.a=b.upToDate;const u=this.c;try{if(!u){(0,v.$Qd)()?.handleAutorunTriggered(this);const o=this.g;this.g=this.h?.(),this._runFn(this,o)}}finally{u||(0,v.$Qd)()?.handleAutorunFinished(this);for(const o of this.f)o.removeObserver(this);this.f.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.a===b.upToDate&&(this.a=b.dependenciesMightHaveChanged),this.b++}endUpdate(){if(this.b===1)do{if(this.a===b.dependenciesMightHaveChanged){this.a=b.upToDate;for(const s of this.e)if(s.reportChanges(),this.a===b.stale)break}this.j()}while(this.a!==b.upToDate);this.b--,(0,y.$md)(()=>this.b>=0)}handlePossibleChange(s){this.a===b.upToDate&&this.e.has(s)&&!this.f.has(s)&&(this.a=b.dependenciesMightHaveChanged)}handleChange(s,u){this.e.has(s)&&!this.f.has(s)&&(!this.i||this.i({changedObservable:s,change:u,didChange:g=>g===s},this.g))&&(this.a=b.stale)}readObservable(s){if(this.c)return s.get();s.addObserver(this);const u=s.get();return this.e.add(s),this.f.delete(s),u}}e.$ud=c,function(n){n.Observer=c}(h||(e.$od=h={}))}),define(z[4],R([0,1,5,3,6]),function(D,e,y,$,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$be=e.$_d=e.$0d=e.$5d=e.$4d=void 0,e.$1d=h,e.$2d=i,e.$3d=r,e.$6d=c,e.$7d=s,e.$8d=u,e.$9d=o,e.$$d=C,e.$ae=k;let v;function h(a){v=a}let t;function i(a){t=a}let f;function r(a){f=a}class d{get TChange(){return null}reportChanges(){this.get()}read(l){return l?l.readObservable(this):this.get()}map(l,w){const P=w===void 0?void 0:l,A=w===void 0?l:w;return f({owner:P,debugName:()=>{const F=(0,$.$hd)(A);if(F!==void 0)return F;const q=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(A.toString());if(q)return`${this.debugName}.${q[2]}`;if(!P)return`${this.debugName} (mapped)`},debugReferenceFn:A},F=>A(this.read(F),F))}flatten(){return f({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},l=>this.read(l).read(l))}recomputeInitiallyAndOnChange(l,w){return l.add(v(this,w)),this}keepObserved(l){return l.add(t(this)),this}get a(){return this.get()}}e.$4d=d;class b extends d{constructor(){super(...arguments),this.b=new Set}addObserver(l){const w=this.b.size;this.b.add(l),w===0&&this.c()}removeObserver(l){this.b.delete(l)&&this.b.size===0&&this.f()}c(){}f(){}}e.$5d=b;function c(a,l){const w=new g(a,l);try{a(w)}finally{w.finish()}}let n;function s(a){if(n)a(n);else{const l=new g(a,void 0);n=l;try{a(l)}finally{l.finish(),n=void 0}}}async function u(a,l){const w=new g(a,l);try{await a(w)}finally{w.finish()}}function o(a,l,w){a?l(a):c(l,w)}class g{constructor(l,w){this._fn=l,this.b=w,this.a=[],(0,O.$Qd)()?.handleBeginTransaction(this)}getDebugName(){return this.b?this.b():(0,$.$hd)(this._fn)}updateObserver(l,w){this.a.push({observer:l,observable:w}),l.beginUpdate(w)}finish(){const l=this.a;for(let w=0;w<l.length;w++){const{observer:P,observable:A}=l[w];P.endUpdate(A)}this.a=null,(0,O.$Qd)()?.handleEndTransaction()}}e.$0d=g;function C(a,l){let w;return typeof a=="string"?w=new $.$fd(void 0,a,void 0):w=new $.$fd(a,void 0,void 0),new S(w,l,y.$$c)}class S extends b{get debugName(){return this.e.getDebugName(this)??"ObservableValue"}constructor(l,w,P){super(),this.e=l,this.g=P,this.d=w}get(){return this.d}set(l,w,P){if(P===void 0&&this.g(this.d,l))return;let A;w||(w=A=new g(()=>{},()=>`Setting ${this.debugName}`));try{const F=this.d;this.h(l),(0,O.$Qd)()?.handleObservableChanged(this,{oldValue:F,newValue:l,change:P,didChange:!0,hadValue:!0});for(const U of this.b)w.updateObserver(U,this),U.handleChange(this,P)}finally{A&&A.finish()}}toString(){return`${this.debugName}: ${this.d}`}h(l){this.d=l}}e.$_d=S;function k(a,l){let w;return typeof a=="string"?w=new $.$fd(void 0,a,void 0):w=new $.$fd(a,void 0,void 0),new E(w,l,y.$$c)}class E extends S{h(l){this.d!==l&&(this.d&&this.d.dispose(),this.d=l)}dispose(){this.d?.dispose()}}e.$be=E}),define(z[8],R([0,1,22,5,2,4,3,6]),function(D,e,y,$,O,v,h,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zd=e.$Yd=void 0,e.$Sd=i,e.$Td=f,e.$Ud=r,e.$Vd=d,e.$Wd=b,e.$Xd=c;function i(o,g){return g!==void 0?new s(new h.$fd(o,void 0,g),g,void 0,void 0,void 0,$.$$c):new s(new h.$fd(void 0,void 0,o),o,void 0,void 0,void 0,$.$$c)}function f(o,g,C){return new u(new h.$fd(o,void 0,g),g,void 0,void 0,void 0,$.$$c,C)}function r(o,g){return new s(new h.$fd(o.owner,o.debugName,o.debugReferenceFn),g,void 0,void 0,o.onLastObserverRemoved,o.equalsFn??$.$$c)}(0,v.$3d)(r);function d(o,g){return new s(new h.$fd(o.owner,o.debugName,void 0),g,o.createEmptyChangeSummary,o.handleChange,void 0,o.equalityComparer??$.$$c)}function b(o,g){let C,S;g===void 0?(C=o,S=void 0):(S=o,C=g);const k=new O.$Yc;return new s(new h.$fd(S,void 0,C),E=>(k.clear(),C(E,k)),void 0,void 0,()=>k.dispose(),$.$$c)}function c(o,g){let C,S;g===void 0?(C=o,S=void 0):(S=o,C=g);let k;return new s(new h.$fd(S,void 0,C),E=>{k?k.clear():k=new O.$Yc;const a=C(E);return a&&k.add(a),a},void 0,void 0,()=>{k&&(k.dispose(),k=void 0)},$.$$c)}var n;(function(o){o[o.initial=0]="initial",o[o.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",o[o.stale=2]="stale",o[o.upToDate=3]="upToDate"})(n||(n={}));class s extends v.$5d{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(g,C,S,k,E=void 0,a){super(),this._debugNameData=g,this._computeFn=C,this.m=S,this.n=k,this.p=E,this.q=a,this.e=n.initial,this.g=void 0,this.h=0,this.j=new Set,this.k=new Set,this.l=void 0,this.l=this.m?.(),(0,t.$Qd)()?.handleDerivedCreated(this)}f(){this.e=n.initial,this.g=void 0;for(const g of this.j)g.removeObserver(this);this.j.clear(),this.p?.()}get(){if(this.b.size===0){const g=this._computeFn(this,this.m?.());return this.f(),g}else{do{if(this.e===n.dependenciesMightHaveChanged){for(const g of this.j)if(g.reportChanges(),this.e===n.stale)break}this.e===n.dependenciesMightHaveChanged&&(this.e=n.upToDate),this.t()}while(this.e!==n.upToDate);return this.g}}t(){if(this.e===n.upToDate)return;const g=this.k;this.k=this.j,this.j=g;const C=this.e!==n.initial,S=this.g;this.e=n.upToDate;const k=this.l;this.l=this.m?.();try{this.g=this._computeFn(this,k)}finally{for(const a of this.k)a.removeObserver(this);this.k.clear()}const E=C&&!this.q(S,this.g);if((0,t.$Qd)()?.handleDerivedRecomputed(this,{oldValue:S,newValue:this.g,change:void 0,didChange:E,hadValue:C}),E)for(const a of this.b)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(g){this.h++;const C=this.h===1;if(this.e===n.upToDate&&(this.e=n.dependenciesMightHaveChanged,!C))for(const S of this.b)S.handlePossibleChange(this);if(C)for(const S of this.b)S.beginUpdate(this)}endUpdate(g){if(this.h--,this.h===0){const C=[...this.b];for(const S of C)S.endUpdate(this)}(0,y.$md)(()=>this.h>=0)}handlePossibleChange(g){if(this.e===n.upToDate&&this.j.has(g)&&!this.k.has(g)){this.e=n.dependenciesMightHaveChanged;for(const C of this.b)C.handlePossibleChange(this)}}handleChange(g,C){if(this.j.has(g)&&!this.k.has(g)){const S=this.n?this.n({changedObservable:g,change:C,didChange:E=>E===g},this.l):!0,k=this.e===n.upToDate;if(S&&(this.e===n.dependenciesMightHaveChanged||k)&&(this.e=n.stale,k))for(const E of this.b)E.handlePossibleChange(this)}}readObservable(g){g.addObserver(this);const C=g.get();return this.j.add(g),this.k.delete(g),C}addObserver(g){const C=!this.b.has(g)&&this.h>0;super.addObserver(g),C&&g.beginUpdate(this)}removeObserver(g){const C=this.b.has(g)&&this.h>0;super.removeObserver(g),C&&g.endUpdate(this)}}e.$Yd=s;class u extends s{constructor(g,C,S,k,E=void 0,a,l){super(g,C,S,k,E,a),this.set=l}}e.$Zd=u}),define(z[23],R([0,1,4]),function(D,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ie=void 0;class $ extends y.$5d{get debugName(){return this.h.getDebugName(this)??"LazyObservableValue"}constructor(v,h,t){super(),this.h=v,this.j=t,this.e=!0,this.g=[],this.l=0,this.d=h}get(){return this.k(),this.d}k(){if(!this.e)if(this.e=!0,this.g.length>0){for(const v of this.b)for(const h of this.g)v.handleChange(this,h);this.g.length=0}else for(const v of this.b)v.handleChange(this,void 0)}m(){if(this.l++,this.l===1)for(const v of this.b)v.beginUpdate(this)}n(){if(this.l--,this.l===0){this.k();const v=[...this.b];for(const h of v)h.endUpdate(this)}}addObserver(v){const h=!this.b.has(v)&&this.l>0;super.addObserver(v),h&&v.beginUpdate(this)}removeObserver(v){const h=this.b.has(v)&&this.l>0;super.removeObserver(v),h&&v.endUpdate(this)}set(v,h,t){if(t===void 0&&this.j(this.d,v))return;let i;h||(h=i=new y.$0d(()=>{},()=>`Setting ${this.debugName}`));try{if(this.e=!1,this.o(v),t!==void 0&&this.g.push(t),h.updateObserver({beginUpdate:()=>this.m(),endUpdate:()=>this.n(),handleChange:(f,r)=>{},handlePossibleChange:f=>{}},this),this.l>1)for(const f of this.b)f.handlePossibleChange(this)}finally{i&&i.finish()}}toString(){return`${this.debugName}: ${this.d}`}o(v){this.d=v}}e.$ie=$}),define(z[24],R([0,1,5,4,3,23]),function(D,e,y,$,O,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$je=h;function h(t,i){return t.lazy?new v.$ie(new O.$fd(t.owner,t.debugName,void 0),i,t.equalsFn??y.$$c):new $.$_d(new O.$fd(t.owner,t.debugName,void 0),i,t.equalsFn??y.$$c)}}),define(z[25],R([0,1,7,4,8,43,3,5,9]),function(D,e,y,$,O,v,h,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fe=e.$ee=e.$de=e.$ce=void 0,e.$ge=c,e.$he=n;class f{get cachedValue(){return this.a}constructor(u){this.b=u,this.a=(0,$.$$d)(this,void 0)}getValue(){let u=this.a.get();return u||(u=this.b(),this.a.set(u,void 0)),u}}e.$ce=f;class r{static fromFn(u){return new r(u())}constructor(u){this.a=(0,$.$$d)(this,void 0),this.promiseResult=this.a,this.promise=u.then(o=>((0,$.$6d)(g=>{this.a.set(new d(o,void 0),g)}),o),o=>{throw(0,$.$6d)(g=>{this.a.set(new d(void 0,o),g)}),o})}}e.$de=r;class d{constructor(u,o){this.data=u,this.error=o}getDataOrThrow(){if(this.error)throw this.error;return this.data}}e.$ee=d;class b{constructor(u){this.b=u,this.a=new f(()=>new r(this.b())),this.cachedPromiseResult=(0,O.$Sd)(this,o=>this.a.cachedValue.read(o)?.promiseResult.read(o))}getPromise(){return this.a.getValue().promise}}e.$fe=b;function c(s,u,o,g){return u||(u=C=>C!=null),new Promise((C,S)=>{let k=!0,E=!1;const a=s.map(w=>({isFinished:u(w),error:o?o(w):!1,state:w})),l=(0,y.$od)(w=>{const{isFinished:P,error:A,state:F}=a.read(w);(P||A)&&(k?E=!0:l.dispose(),A?S(A===!0?F:A):C(F))});if(g){const w=g.onCancellationRequested(()=>{l.dispose(),w.dispose(),S(new i.$9)});if(g.isCancellationRequested){l.dispose(),w.dispose(),S(new i.$9);return}}k=!1,E&&l.dispose()})}function n(s,u){let o,g;u===void 0?(o=s,g=void 0):(g=s,o=u);let C;return new O.$Yd(new h.$fd(g,void 0,o),S=>(C&&C.dispose(!0),C=new v.$Be,o(S,C.token)),void 0,void 0,()=>C?.dispose(),t.$$c)}}),define(z[26],R([0,1,27,2,7,4,3,8,6,9,5]),function(D,e,y,$,O,v,h,t,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ld=e.$Hd=e.$zd=void 0,e.$vd=d,e.$wd=c,e.$xd=n,e.$yd=s,e.$Ad=o,e.$Bd=C,e.$Cd=k,e.$Dd=E,e.$Ed=a,e.$Fd=l,e.$Gd=w,e.$Id=A,e.$Jd=F,e.$Kd=U,e.$Md=m,e.$Nd=j,e.$Od=B;function d(T){return new b(T)}class b extends v.$4d{constructor(p){super(),this.b=p}get debugName(){return this.toString()}get(){return this.b}addObserver(p){}removeObserver(p){}toString(){return`Const: ${this.b}`}}function c(T){const p=(0,v.$$d)("promiseValue",{});return T.then(N=>{p.set({value:N},void 0)}),p}function n(...T){let p,N,L;return T.length===3?[p,N,L]=T:[N,L]=T,new u(new h.$fd(p,void 0,L),N,L,()=>u.globalTransaction,r.$$c)}function s(T,p,N){return new u(new h.$fd(T.owner,T.debugName,T.debugReferenceFn??N),p,N,()=>u.globalTransaction,T.equalsFn??r.$$c)}class u extends v.$5d{constructor(p,N,L,I,V){super(),this.j=p,this.k=N,this._getValue=L,this.l=I,this.n=V,this.g=!1,this.r=W=>{const H=this._getValue(W),G=this.e,X=!this.g||!this.n(G,H);let Z=!1;X&&(this.e=H,this.g&&(Z=!0,(0,v.$9d)(this.l(),Q=>{(0,i.$Qd)()?.handleFromEventObservableTriggered(this,{oldValue:G,newValue:H,change:void 0,didChange:X,hadValue:this.g});for(const Y of this.b)Q.updateObserver(Y,this),Y.handleChange(this,void 0)},()=>{const Q=this.p();return"Event fired"+(Q?`: ${Q}`:"")})),this.g=!0),Z||(0,i.$Qd)()?.handleFromEventObservableTriggered(this,{oldValue:G,newValue:H,change:void 0,didChange:X,hadValue:this.g})}}p(){return this.j.getDebugName(this)}get debugName(){const p=this.p();return"From Event"+(p?`: ${p}`:"")}c(){this.h=this.k(this.r)}f(){this.h.dispose(),this.h=void 0,this.g=!1,this.e=void 0}get(){return this.h?(this.g||this.r(void 0),this.e):this._getValue(void 0)}}e.$zd=u,function(T){T.Observer=u;function p(N,L){let I=!1;u.globalTransaction===void 0&&(u.globalTransaction=N,I=!0);try{L()}finally{I&&(u.globalTransaction=void 0)}}T.batchEventsGlobally=p}(n||(e.$xd=n={}));function o(T,p){return new g(T,p)}class g extends v.$5d{constructor(p,N){super(),this.debugName=p,this.g=N,this.j=()=>{(0,v.$6d)(L=>{for(const I of this.b)L.updateObserver(I,this),I.handleChange(this,void 0)},()=>this.debugName)}}c(){this.e=this.g(this.j)}f(){this.e.dispose(),this.e=void 0}get(){}}function C(T){return typeof T=="string"?new S(T):new S(void 0,T)}class S extends v.$5d{get debugName(){return new h.$fd(this.g,this.e,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(p,N){super(),this.e=p,this.g=N}trigger(p,N){if(!p){(0,v.$6d)(L=>{this.trigger(L,N)},()=>`Trigger signal ${this.debugName}`);return}for(const L of this.b)p.updateObserver(L,this),L.handleChange(this,N)}get(){}}function k(T,p,N){const L=(0,v.$$d)("debounced",void 0);let I;return N.add((0,O.$od)(V=>{const W=T.read(V);I&&clearTimeout(I),I=setTimeout(()=>{(0,v.$6d)(H=>{L.set(W,H)})},p)})),L}function E(T,p){let N=!1,L,I;return n(V=>{const W=(0,O.$od)(H=>{const G=T.read(H);N?(I&&clearTimeout(I),I=setTimeout(()=>{L=G,V()},p)):(N=!0,L=G)});return{dispose(){W.dispose(),N=!1,L=void 0}}},()=>N?L:T.get())}function a(T,p,N){const L=(0,v.$$d)("triggeredRecently",!1);let I;return N.add(T(()=>{L.set(!0,void 0),I&&clearTimeout(I),I=setTimeout(()=>{L.set(!1,void 0)},p)})),L}function l(T){const p=new P(!1,void 0);return T.addObserver(p),(0,$.$Xc)(()=>{T.removeObserver(p)})}(0,v.$2d)(l);function w(T,p){const N=new P(!0,p);return T.addObserver(N),p?p(T.get()):T.reportChanges(),(0,$.$Xc)(()=>{T.removeObserver(N)})}(0,v.$1d)(w);class P{constructor(p,N){this.b=p,this.c=N,this.a=0}beginUpdate(p){this.a++}endUpdate(p){this.a--,this.a===0&&this.b&&(this.c?this.c(p.get()):p.reportChanges())}handlePossibleChange(p){}handleChange(p,N){}}e.$Hd=P;function A(T,p){let N;return(0,t.$Ud)({owner:T,debugReferenceFn:p},I=>(N=p(I,N),N))}function F(T,p){let N;const L=C("derivedObservableWithWritableCache"),I=(0,t.$Sd)(T,V=>(L.read(V),N=p(V,N),N));return Object.assign(I,{clearCache:V=>{N=void 0,L.trigger(V)},setCache:(V,W)=>{N=V,L.trigger(W)}})}function U(T,p,N,L){let I=new q(N,L);return(0,t.$Ud)({debugReferenceFn:N,owner:T,onLastObserverRemoved:()=>{I.dispose(),I=new q(N)}},W=>(I.setItems(p.read(W)),I.getItems()))}class q{constructor(p,N){this.c=p,this.e=N,this.a=new Map,this.b=[]}dispose(){this.a.forEach(p=>p.store.dispose()),this.a.clear()}setItems(p){const N=[],L=new Set(this.a.keys());for(const I of p){const V=this.e?this.e(I):I;let W=this.a.get(V);if(W)L.delete(V);else{const H=new $.$Yc;W={out:this.c(I,H),store:H},this.a.set(V,W)}N.push(W.out)}for(const I of L)this.a.get(I).store.dispose(),this.a.delete(I);this.b=N}getItems(){return this.b}}class M{constructor(p){this.observable=p}get onDidChange(){return y.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.$Ld=M;function m(T,p){return p instanceof M?p.observable:n(T,p.onDidChange,()=>p.value)}function j(T,p){if(p.length===0)throw new f.$gb;let N=!1,L;const I=n(T,V=>{const W=new $.$Yc;for(const H of p)W.add((0,O.$pd)({debugName:()=>(0,h.$gd)(I,new h.$fd(T,void 0,void 0))+".updateLastChangedValue"},G=>{N=!0,L=H.read(G),V()}));return W.add({dispose(){N=!1,L=void 0}}),W},()=>N?L:p[p.length-1].get());return I}function B(T,p){return A(T,(N,L)=>L??p(N))}}),define(z[13],R([0,1,4,8,7,26,25,24,6]),function(D,e,y,$,O,v,h,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableValueOpts=e.derivedWithCancellationToken=e.waitForState=e.PromiseResult=e.ObservablePromise=e.ObservableLazyPromise=e.ObservableLazy=e.wasEventTriggeredRecently=e.observableSignalFromEvent=e.observableSignal=e.observableFromPromise=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.debouncedObservable=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorunDelta=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return y.$$d}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return y.$ae}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return y.$6d}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return y.$9d}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return $.$Sd}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return $.$Ud}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return $.$Vd}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return $.$Wd}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return O.$od}}),Object.defineProperty(e,"autorunDelta",{enumerable:!0,get:function(){return O.$td}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return O.$qd}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return O.$sd}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return O.$pd}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return O.$rd}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return v.$vd}}),Object.defineProperty(e,"debouncedObservable",{enumerable:!0,get:function(){return v.$Cd}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return v.$Id}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return v.$Jd}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return v.$Fd}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return v.$Gd}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return v.$xd}}),Object.defineProperty(e,"observableFromPromise",{enumerable:!0,get:function(){return v.$wd}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return v.$Bd}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return v.$Ad}}),Object.defineProperty(e,"wasEventTriggeredRecently",{enumerable:!0,get:function(){return v.$Ed}}),Object.defineProperty(e,"ObservableLazy",{enumerable:!0,get:function(){return h.$ce}}),Object.defineProperty(e,"ObservableLazyPromise",{enumerable:!0,get:function(){return h.$fe}}),Object.defineProperty(e,"ObservablePromise",{enumerable:!0,get:function(){return h.$de}}),Object.defineProperty(e,"PromiseResult",{enumerable:!0,get:function(){return h.$ee}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return h.$ge}}),Object.defineProperty(e,"derivedWithCancellationToken",{enumerable:!0,get:function(){return h.$he}}),Object.defineProperty(e,"observableValueOpts",{enumerable:!0,get:function(){return t.$je}}),!1&&(0,i.$Pd)(new i.$Rd)}),define(z[28],R([0,1,9,2]),function(D,e,y,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$De=O,e.$Ee=v,e.$Fe=h,e.$Ge=t,e.$He=f,e.$Ie=r,e.$Je=d,e.$Ke=b,e.$Le=c,e.$Me=n,e.$Ne=s,e.$Oe=u,e.$Pe=o,e.$Qe=g,e.$Re=C;function O(S){const k=S;return k?typeof k.read=="function":!1}function v(S){const k=S;return k?[k.on,k.pause,k.resume,k.destroy].every(E=>typeof E=="function"):!1}function h(S){const k=S;return k?v(k.stream)&&Array.isArray(k.buffer)&&typeof k.ended=="boolean":!1}function t(S,k){return new i(S,k)}class i{constructor(k,E){this.e=k,this.f=E,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(k){if(!this.a.destroyed){if(this.a.flowing)this.g(k);else if(this.b.data.push(k),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(E=>this.d.push(E))}}error(k){this.a.destroyed||(this.a.flowing?this.h(k):this.b.error.push(k))}end(k){this.a.destroyed||(typeof k<"u"&&this.write(k),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(k){this.c.data.slice(0).forEach(E=>E(k))}h(k){this.c.error.length===0?(0,y.$4)(k):this.c.error.slice(0).forEach(E=>E(k))}i(){this.c.end.slice(0).forEach(k=>k())}on(k,E){if(!this.a.destroyed)switch(k){case"data":this.c.data.push(E),this.resume();break;case"end":this.c.end.push(E),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(E),this.a.flowing&&this.k();break}}removeListener(k,E){if(this.a.destroyed)return;let a;switch(k){case"data":a=this.c.data;break;case"end":a=this.c.end;break;case"error":a=this.c.error;break}if(a){const l=a.indexOf(E);l>=0&&a.splice(l,1)}}j(){if(this.b.data.length>0){const k=this.e(this.b.data);this.g(k),this.b.data.length=0;const E=[...this.d];this.d.length=0,E.forEach(a=>a())}}k(){if(this.c.error.length>0){for(const k of this.b.error)this.h(k);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function f(S,k){const E=[];let a;for(;(a=S.read())!==null;)E.push(a);return k(E)}function r(S,k,E){const a=[];let l;for(;(l=S.read())!==null&&a.length<E;)a.push(l);return l===null&&a.length>0?k(a):{read:()=>{if(a.length>0)return a.shift();if(typeof l<"u"){const w=l;return l=void 0,w}return S.read()}}}function d(S,k){return new Promise((E,a)=>{const l=[];b(S,{onData:w=>{k&&l.push(w)},onError:w=>{k?a(w):E(void 0)},onEnd:()=>{E(k?k(l):void 0)}})})}function b(S,k,E){S.on("error",a=>{E?.isCancellationRequested||k.onError(a)}),S.on("end",()=>{E?.isCancellationRequested||k.onEnd()}),S.on("data",a=>{E?.isCancellationRequested||k.onData(a)})}function c(S,k){return new Promise((E,a)=>{const l=new $.$Yc,w=[],P=U=>{if(w.push(U),w.length>k)return l.dispose(),S.pause(),E({stream:S,buffer:w,ended:!1})},A=U=>(l.dispose(),a(U)),F=()=>(l.dispose(),E({stream:S,buffer:w,ended:!0}));l.add((0,$.$Xc)(()=>S.removeListener("error",A))),S.on("error",A),l.add((0,$.$Xc)(()=>S.removeListener("end",F))),S.on("end",F),l.add((0,$.$Xc)(()=>S.removeListener("data",P))),S.on("data",P)})}function n(S,k){const E=t(k);return E.end(S),E}function s(){const S=t(()=>{throw new Error("not supported")});return S.end(),S}function u(S){let k=!1;return{read:()=>k?null:(k=!0,S)}}function o(S,k,E){const a=t(E);return b(S,{onData:l=>a.write(k.data(l)),onError:l=>a.error(k.error?k.error(l):l),onEnd:()=>a.end()}),a}function g(S,k,E){let a=!1;return{read:()=>{const l=k.read();return a?l:(a=!0,l!==null?E([S,l]):S)}}}function C(S,k,E){let a=!1;const l=t(E);return b(k,{onData:w=>a?l.write(w):(a=!0,l.write(E([S,w]))),onError:w=>l.error(w),onEnd:()=>{a||(a=!0,l.write(S)),l.end()}}),l}}),define(z[14],R([0,1,44,28]),function(D,e,y,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Se=void 0,e.$Te=f,e.$Ue=r,e.$Ve=d,e.$We=b,e.$Xe=c,e.$Ye=n,e.$Ze=s,e.$1e=u,e.$2e=o,e.$3e=g,e.$4e=C,e.$5e=S,e.$6e=k,e.$7e=E,e.$8e=a,e.$9e=l,e.$0e=w,e.$$e=P,e.$_e=A,e.$af=q,$=K($);const O=typeof Buffer<"u",v=new y.$Y(()=>new Uint8Array(256));let h,t;class i{static alloc(m){return O?new i(Buffer.allocUnsafe(m)):new i(new Uint8Array(m))}static wrap(m){return O&&!Buffer.isBuffer(m)&&(m=Buffer.from(m.buffer,m.byteOffset,m.byteLength)),new i(m)}static fromString(m,j){return!(j?.dontUseNodeBuffer||!1)&&O?new i(Buffer.from(m)):(h||(h=new TextEncoder),new i(h.encode(m)))}static fromByteArray(m){const j=i.alloc(m.length);for(let B=0,T=m.length;B<T;B++)j.buffer[B]=m[B];return j}static concat(m,j){if(typeof j>"u"){j=0;for(let p=0,N=m.length;p<N;p++)j+=m[p].byteLength}const B=i.alloc(j);let T=0;for(let p=0,N=m.length;p<N;p++){const L=m[p];B.set(L,T),T+=L.byteLength}return B}constructor(m){this.buffer=m,this.byteLength=this.buffer.byteLength}clone(){const m=i.alloc(this.byteLength);return m.set(this),m}toString(){return O?this.buffer.toString():(t||(t=new TextDecoder),t.decode(this.buffer))}slice(m,j){return new i(this.buffer.subarray(m,j))}set(m,j){if(m instanceof i)this.buffer.set(m.buffer,j);else if(m instanceof Uint8Array)this.buffer.set(m,j);else if(m instanceof ArrayBuffer)this.buffer.set(new Uint8Array(m),j);else if(ArrayBuffer.isView(m))this.buffer.set(new Uint8Array(m.buffer,m.byteOffset,m.byteLength),j);else throw new Error("Unknown argument 'array'")}readUInt32BE(m){return b(this.buffer,m)}writeUInt32BE(m,j){c(this.buffer,m,j)}readUInt32LE(m){return n(this.buffer,m)}writeUInt32LE(m,j){s(this.buffer,m,j)}readUInt8(m){return u(this.buffer,m)}writeUInt8(m,j){o(this.buffer,m,j)}indexOf(m,j=0){return f(this.buffer,m instanceof i?m.buffer:m,j)}}e.$Se=i;function f(M,m,j=0){const B=m.byteLength,T=M.byteLength;if(B===0)return 0;if(B===1)return M.indexOf(m[0]);if(B>T-j)return-1;const p=v.value;p.fill(m.length);for(let V=0;V<m.length;V++)p[m[V]]=m.length-V-1;let N=j+m.length-1,L=N,I=-1;for(;N<T;)if(M[N]===m[L]){if(L===0){I=N;break}N--,L--}else N+=Math.max(m.length-L,p[M[N]]),L=m.length-1;return I}function r(M,m){return M[m+0]<<0>>>0|M[m+1]<<8>>>0}function d(M,m,j){M[j+0]=m&255,m=m>>>8,M[j+1]=m&255}function b(M,m){return M[m]*2**24+M[m+1]*2**16+M[m+2]*2**8+M[m+3]}function c(M,m,j){M[j+3]=m,m=m>>>8,M[j+2]=m,m=m>>>8,M[j+1]=m,m=m>>>8,M[j]=m}function n(M,m){return M[m+0]<<0>>>0|M[m+1]<<8>>>0|M[m+2]<<16>>>0|M[m+3]<<24>>>0}function s(M,m,j){M[j+0]=m&255,m=m>>>8,M[j+1]=m&255,m=m>>>8,M[j+2]=m&255,m=m>>>8,M[j+3]=m&255}function u(M,m){return M[m]}function o(M,m,j){M[j]=m}function g(M){return $.$He(M,m=>i.concat(m))}function C(M){return $.$Oe(M)}function S(M){return $.$Je(M,m=>i.concat(m))}async function k(M){return M.ended?i.concat(M.buffer):i.concat([...M.buffer,await S(M.stream)])}function E(M){return $.$Me(M,m=>i.concat(m))}function a(M){return $.$Pe(M,{data:m=>typeof m=="string"?i.fromString(m):i.wrap(m)},m=>i.concat(m))}function l(M){return $.$Ge(m=>i.concat(m),M)}function w(M,m){return $.$Qe(M,m,j=>i.concat(j))}function P(M,m){return $.$Re(M,m,j=>i.concat(j))}function A(M){let m=0,j=0,B=0;const T=new Uint8Array(Math.floor(M.length/4*3)),p=L=>{switch(j){case 3:T[B++]=m|L,j=0;break;case 2:T[B++]=m|L>>>2,m=L<<6,j=3;break;case 1:T[B++]=m|L>>>4,m=L<<4,j=2;break;default:m=L<<2,j=1}};for(let L=0;L<M.length;L++){const I=M.charCodeAt(L);if(I>=65&&I<=90)p(I-65);else if(I>=97&&I<=122)p(I-97+26);else if(I>=48&&I<=57)p(I-48+52);else if(I===43||I===45)p(62);else if(I===47||I===95)p(63);else{if(I===61)break;throw new SyntaxError(`Unexpected base64 character ${M[L]}`)}}const N=B;for(;j>0;)p(0);return i.wrap(T).slice(0,N)}const F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function q({buffer:M},m=!0,j=!1){const B=j?U:F;let T="";const p=M.byteLength%3;let N=0;for(;N<M.byteLength-p;N+=3){const L=M[N+0],I=M[N+1],V=M[N+2];T+=B[L>>>2],T+=B[(L<<4|I>>>4)&63],T+=B[(I<<2|V>>>6)&63],T+=B[V&63]}if(p===1){const L=M[N+0];T+=B[L>>>2],T+=B[L<<4&63],m&&(T+="==")}else if(p===2){const L=M[N+0],I=M[N+1];T+=B[L>>>2],T+=B[(L<<4|I>>>4)&63],T+=B[I<<2&63],m&&(T+="=")}return T}}),define(z[15],R([0,1,45]),function(D,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$Hu=O;var $;(function(v){v[v.Unknown=0]="Unknown",v[v.Invalid=3]="Invalid",v[v.LF=1]="LF",v[v.CRLF=2]="CRLF"})($||(e.StringEOL=$={}));function O(v){let h=0,t=0,i=0,f=$.Unknown;for(let r=0,d=v.length;r<d;r++){const b=v.charCodeAt(r);b===y.CharCode.CarriageReturn?(h===0&&(t=r),h++,r+1<d&&v.charCodeAt(r+1)===y.CharCode.LineFeed?(f|=$.CRLF,r++):f|=$.Invalid,i=r+1):b===y.CharCode.LineFeed&&(f|=$.LF,h===0&&(t=r),h++,i=r+1)}return h===0&&(t=v.length),[h,t,v.length-i,f]}}),define(z[29],R([0,1,12]),function(D,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ND=void 0;class ${constructor(h){this.b=h,this.a=[]}get(h){return h<this.a.length?this.a[h]:this.b}set(h,t){for(;h>=this.a.length;)this.a[this.a.length]=this.b;this.a[h]=t}replace(h,t,i){if(h>=this.a.length)return;if(t===0){this.insert(h,i);return}else if(i===0){this.delete(h,t);return}const f=this.a.slice(0,h),r=this.a.slice(h+t),d=O(i,this.b);this.a=f.concat(d,r)}delete(h,t){t===0||h>=this.a.length||this.a.splice(h,t)}insert(h,t){if(t===0||h>=this.a.length)return;const i=[];for(let f=0;f<t;f++)i[f]=this.b;this.a=(0,y.$Zb)(this.a,h,i)}}e.$ND=$;function O(v,h){const t=[];for(let i=0;i<v;i++)t[i]=h;return t}}),define(z[10],R([0,1,11]),function(D,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Iu=void 0,e.$Ju=v;class ${static{this.defaultTokenMetadata=(y.FontStyle.None<<y.MetadataConsts.FONT_STYLE_OFFSET|y.ColorId.DefaultForeground<<y.MetadataConsts.FOREGROUND_OFFSET|y.ColorId.DefaultBackground<<y.MetadataConsts.BACKGROUND_OFFSET)>>>0}static createEmpty(t,i){const f=$.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=t.length,r[1]=f,new $(r,t,i)}static createFromTextAndMetadata(t,i){let f=0,r="";const d=new Array;for(const{text:b,metadata:c}of t)d.push(f+b.length,c),f+=b.length,r+=b;return new $(new Uint32Array(d),r,i)}constructor(t,i,f){this._lineTokensBrand=void 0,this.a=t,this.b=this.a.length>>>1,this.c=i,this.languageIdCodec=f}equals(t){return t instanceof $?this.slicedEquals(t,0,this.b):!1}slicedEquals(t,i,f){if(this.c!==t.c||this.b!==t.b)return!1;const r=i<<1,d=r+(f<<1);for(let b=r;b<d;b++)if(this.a[b]!==t.a[b])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(t){return t>0?this.a[t-1<<1]:0}getMetadata(t){return this.a[(t<<1)+1]}getLanguageId(t){const i=this.a[(t<<1)+1],f=y.$Du.getLanguageId(i);return this.languageIdCodec.decodeLanguageId(f)}getStandardTokenType(t){const i=this.a[(t<<1)+1];return y.$Du.getTokenType(i)}getForeground(t){const i=this.a[(t<<1)+1];return y.$Du.getForeground(i)}getClassName(t){const i=this.a[(t<<1)+1];return y.$Du.getClassNameFromMetadata(i)}getInlineStyle(t,i){const f=this.a[(t<<1)+1];return y.$Du.getInlineStyleFromMetadata(f,i)}getPresentation(t){const i=this.a[(t<<1)+1];return y.$Du.getPresentationFromMetadata(i)}getEndOffset(t){return this.a[t<<1]}findTokenIndexAtOffset(t){return $.findIndexInTokensArray(this.a,t)}inflate(){return this}sliceAndInflate(t,i,f){return new O(this,t,i,f)}static convertToEndOffset(t,i){const r=(t.length>>>1)-1;for(let d=0;d<r;d++)t[d<<1]=t[d+1<<1];t[r<<1]=i}static findIndexInTokensArray(t,i){if(t.length<=2)return 0;let f=0,r=(t.length>>>1)-1;for(;f<r;){const d=f+Math.floor((r-f)/2),b=t[d<<1];if(b===i)return d+1;b<i?f=d+1:b>i&&(r=d)}return f}withInserted(t){if(t.length===0)return this;let i=0,f=0,r="";const d=new Array;let b=0;for(;;){const c=i<this.b?this.a[i<<1]:-1,n=f<t.length?t[f]:null;if(c!==-1&&(n===null||c<=n.offset)){r+=this.c.substring(b,c);const s=this.a[(i<<1)+1];d.push(r.length,s),i++,b=c}else if(n){if(n.offset>b){r+=this.c.substring(b,n.offset);const s=this.a[(i<<1)+1];d.push(r.length,s),b=n.offset}r+=n.text,d.push(r.length,n.tokenMetadata),f++}else break}return new $(new Uint32Array(d),r,this.languageIdCodec)}getTokenText(t){const i=this.getStartOffset(t),f=this.getEndOffset(t);return this.c.substring(i,f)}forEach(t){const i=this.getCount();for(let f=0;f<i;f++)t(f)}}e.$Iu=$;class O{constructor(t,i,f,r){this.a=t,this.b=i,this.c=f,this.d=r,this.e=t.findTokenIndexAtOffset(i),this.languageIdCodec=t.languageIdCodec,this.f=0;for(let d=this.e,b=t.getCount();d<b&&!(t.getStartOffset(d)>=f);d++)this.f++}getMetadata(t){return this.a.getMetadata(this.e+t)}getLanguageId(t){return this.a.getLanguageId(this.e+t)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(t){return t instanceof O?this.b===t.b&&this.c===t.c&&this.d===t.d&&this.a.slicedEquals(t.a,this.e,this.f):!1}getCount(){return this.f}getStandardTokenType(t){return this.a.getStandardTokenType(this.e+t)}getForeground(t){return this.a.getForeground(this.e+t)}getEndOffset(t){const i=this.a.getEndOffset(this.e+t);return Math.min(this.c,i)-this.b+this.d}getClassName(t){return this.a.getClassName(this.e+t)}getInlineStyle(t,i){return this.a.getInlineStyle(this.e+t,i)}getPresentation(t){return this.a.getPresentation(this.e+t)}findTokenIndexAtOffset(t){return this.a.findTokenIndexAtOffset(t+this.b-this.d)-this.e}getTokenText(t){const i=this.e+t,f=this.a.getStartOffset(i),r=this.a.getEndOffset(i);let d=this.a.getTokenText(i);return f<this.b&&(d=d.substring(this.b-f)),r>this.c&&(d=d.substring(0,d.length-(r-this.c))),d}forEach(t){for(let i=0;i<this.getCount();i++)t(i)}}function v(h,t){const i=t.lineNumber;if(!h.tokenization.isCheapToTokenize(i))return;h.tokenization.forceTokenization(i);const f=h.tokenization.getLineTokens(i),r=f.findTokenIndexAtOffset(t.column-1);return f.getStandardTokenType(r)}}),define(z[30],R([0,1,10]),function(D,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lu=e.$Ku=void 0,e.$Mu=O,e.$Ku=new Uint32Array(0).buffer;class ${static deleteBeginning(h,t){return h===null||h===e.$Ku?h:$.delete(h,0,t)}static deleteEnding(h,t){if(h===null||h===e.$Ku)return h;const i=O(h),f=i[i.length-2];return $.delete(h,t,f)}static delete(h,t,i){if(h===null||h===e.$Ku||t===i)return h;const f=O(h),r=f.length>>>1;if(t===0&&f[f.length-2]===i)return e.$Ku;const d=y.$Iu.findIndexInTokensArray(f,t),b=d>0?f[d-1<<1]:0,c=f[d<<1];if(i<c){const g=i-t;for(let C=d;C<r;C++)f[C<<1]-=g;return h}let n,s;b!==t?(f[d<<1]=t,n=d+1<<1,s=t):(n=d<<1,s=b);const u=i-t;for(let g=d+1;g<r;g++){const C=f[g<<1]-u;C>s&&(f[n++]=C,f[n++]=f[(g<<1)+1],s=C)}if(n===f.length)return h;const o=new Uint32Array(n);return o.set(f.subarray(0,n),0),o.buffer}static append(h,t){if(t===e.$Ku)return h;if(h===e.$Ku)return t;if(h===null)return h;if(t===null)return null;const i=O(h),f=O(t),r=f.length>>>1,d=new Uint32Array(i.length+f.length);d.set(i,0);let b=i.length;const c=i[i.length-2];for(let n=0;n<r;n++)d[b++]=f[n<<1]+c,d[b++]=f[(n<<1)+1];return d.buffer}static insert(h,t,i){if(h===null||h===e.$Ku)return h;const f=O(h),r=f.length>>>1;let d=y.$Iu.findIndexInTokensArray(f,t);d>0&&f[d-1<<1]===t&&d--;for(let b=d;b<r;b++)f[b<<1]+=i;return h}}e.$Lu=$;function O(v){return v instanceof Uint32Array?v:new Uint32Array(v)}}),define(z[31],R([0,1,12,14,46,15,30,16]),function(D,e,y,$,O,v,h,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Nu=void 0,y=K(y);class i{static deserialize(r,d,b){const c=new Uint32Array(r.buffer),n=(0,$.$We)(r,d);d+=4;const s=(0,$.$We)(r,d);d+=4;const u=[];for(let o=0;o<s;o++){const g=(0,$.$We)(r,d);d+=4,u.push(c.subarray(d/4,d/4+g/4)),d+=g}return b.push(new i(n,u)),d}get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor(r,d){this.a=r,this.b=d}getLineRange(){return new t.$6t(this.a,this.a+this.b.length)}getLineTokens(r){return this.b[r-this.a]}appendLineTokens(r){this.b.push(r)}serializeSize(){let r=0;r+=4,r+=4;for(let d=0;d<this.b.length;d++){const b=this.b[d];if(!(b instanceof Uint32Array))throw new Error("Not supported!");r+=4,r+=b.byteLength}return r}serialize(r,d){(0,$.$Xe)(r,this.a,d),d+=4,(0,$.$Xe)(r,this.b.length,d),d+=4;for(let b=0;b<this.b.length;b++){const c=this.b[b];if(!(c instanceof Uint32Array))throw new Error("Not supported!");(0,$.$Xe)(r,c.byteLength,d),d+=4,r.set(new Uint8Array(c.buffer),d),d+=c.byteLength}return d}applyEdit(r,d){const[b,c]=(0,v.$Hu)(d);this.c(r),this.d(new O.$Vt(r.startLineNumber,r.startColumn),b,c)}c(r){if(r.startLineNumber===r.endLineNumber&&r.startColumn===r.endColumn)return;const d=r.startLineNumber-this.a,b=r.endLineNumber-this.a;if(b<0){const c=b-d;this.a-=c;return}if(!(d>=this.b.length)){if(d<0&&b>=this.b.length){this.a=0,this.b=[];return}if(d===b){this.b[d]=h.$Lu.delete(this.b[d],r.startColumn-1,r.endColumn-1);return}if(d>=0)if(this.b[d]=h.$Lu.deleteEnding(this.b[d],r.startColumn-1),b<this.b.length){const c=h.$Lu.deleteBeginning(this.b[b],r.endColumn-1);this.b[d]=h.$Lu.append(this.b[d],c),this.b.splice(d+1,b-d)}else this.b[d]=h.$Lu.append(this.b[d],null),this.b=this.b.slice(0,d+1);else{const c=-d;this.a-=c,this.b[b]=h.$Lu.deleteBeginning(this.b[b],r.endColumn-1),this.b=this.b.slice(b)}}}d(r,d,b){if(d===0&&b===0)return;const c=r.lineNumber-this.a;if(c<0){this.a+=d;return}if(!(c>=this.b.length)){if(d===0){this.b[c]=h.$Lu.insert(this.b[c],r.column-1,b);return}this.b[c]=h.$Lu.deleteEnding(this.b[c],r.column-1),this.b[c]=h.$Lu.insert(this.b[c],r.column-1,b),this.e(r.lineNumber,d)}}e(r,d){if(d===0)return;const b=[];for(let c=0;c<d;c++)b[c]=null;this.b=y.$Zb(this.b,r,b)}}e.$Nu=i}),define(z[17],R([0,1,14,31]),function(D,e,y,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$OD=void 0;class O{static deserialize(h){let t=0;const i=(0,y.$We)(h,t);t+=4;const f=[];for(let r=0;r<i;r++)t=$.$Nu.deserialize(h,t,f);return f}constructor(){this.a=[]}add(h,t){if(this.a.length>0){const i=this.a[this.a.length-1];if(i.endLineNumber+1===h){i.appendLineTokens(t);return}}this.a.push(new $.$Nu(h,[t]))}finalize(){return this.a}serialize(){const h=this.b(),t=new Uint8Array(h);return this.c(t),t}b(){let h=0;h+=4;for(let t=0;t<this.a.length;t++)h+=this.a[t].serializeSize();return h}c(h){let t=0;(0,y.$Xe)(h,this.a.length,t),t+=4;for(let i=0;i<this.a.length;i++)t=this.a[i].serialize(h,t)}}e.$OD=O}),define(z[18],R([0,1,21,47,19,48,32]),function(D,e,y,$,O,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zq=r,e.$Aq=d,O=K(O);class t{constructor(c,n,s){this.id=c,this.dependencies=n,this.callback=s}}class i{static{this.INSTANCE=new i}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(c,n,s)=>{typeof c!="string"&&(s=n,n=c,c=null),(typeof n!="object"||!Array.isArray(n))&&(s=n,n=null),this.c.push(new t(c,n,s))},globalThis.define.amd=!0,this.b?this.f=globalThis._VSCODE_WEB_PACKAGE_TTP??window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(c){if(c.startsWith(window.location.origin)||c.startsWith(`${$.Schemas.vscodeFileResource}://${$.$4g}`))return c;throw new Error(`[trusted_script_src] Invalid script url: ${c}`)}}):this.a&&(this.f=globalThis._VSCODE_WEB_PACKAGE_TTP??globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(c){return c}})))}async load(c){this.g();const n=await(this.a?this.i(c):this.b?this.h(c):this.j(c));if(!n){console.warn(`Did not receive a define call from script ${c}`);return}const s={},u=[],o=[];if(Array.isArray(n.dependencies))for(const g of n.dependencies)g==="exports"?u.push(s):o.push(g);if(o.length>0)throw new Error(`Cannot resolve dependencies for script ${c}. The dependencies are: ${o.join(", ")}`);return typeof n.callback=="function"?n.callback(...u)??s:n.callback}h(c){return new Promise((n,s)=>{const u=document.createElement("script");u.setAttribute("async","async"),u.setAttribute("type","text/javascript");const o=()=>{u.removeEventListener("load",g),u.removeEventListener("error",C)},g=S=>{o(),n(this.c.pop())},C=S=>{o(),s(S)};u.addEventListener("load",g),u.addEventListener("error",C),this.f&&(c=this.f.createScriptURL(c)),u.setAttribute("src",c),window.document.getElementsByTagName("head")[0].appendChild(u)})}async i(c){return this.f&&(c=this.f.createScriptURL(c)),y.$V?await new Promise((n,s)=>{D([c],n,s)}).then(K):importScripts(c),this.c.pop()}async j(c){try{const n=globalThis._VSCODE_NODE_MODULES.fs,s=globalThis._VSCODE_NODE_MODULES.vm,u=globalThis._VSCODE_NODE_MODULES.module,o=h.URI.parse(c).fsPath,g=n.readFileSync(o).toString(),C=u.wrap(g.replace(/^#!.*/,""));return new s.Script(C).runInThisContext().apply(),this.c.pop()}catch(n){throw n}}}const f=new Map;async function r(b,c,n){if(y.$V){n===void 0&&(n=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit);const s=c?`${b}/${c}`:b;if(f.has(s))return f.get(s);let u;if(/^\w[\w\d+.-]*:\/\//.test(s))u=s;else{const S=`${y.$W&&n&&!O.$r?$.$2g:$.$1g}/${s}`;u=$.$5g.asBrowserUri(S).toString(!0)}const o=i.INSTANCE.load(u);return f.set(s,o),o}else return await new Promise((s,u)=>{D([b],s,u)}).then(K)}function d(b,c){(0,v.$tg)(y.$V);const s=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit,u=y.$W&&s&&!O.$r,o=`${b}/${c}`,C=`${u?$.$2g:$.$1g}/${o}`;return $.$5g.asBrowserUri(C).toString(!0)}}),define(z[20],R([0,1,33,11]),function(D,e,y,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$KD=void 0,e.$LD=O,e.$MD=v,e.$KD=new class{clone(){return this}equals(h){return this===h}};function O(h,t){return new y.$Qu([new y.$Pu(0,"",h)],t)}function v(h,t){const i=new Uint32Array(2);return i[0]=0,i[1]=(h<<$.MetadataConsts.LANGUAGEID_OFFSET|$.StandardTokenType.Other<<$.MetadataConsts.TOKEN_TYPE_OFFSET|$.FontStyle.None<<$.MetadataConsts.FONT_STYLE_OFFSET|$.ColorId.DefaultForeground<<$.MetadataConsts.FOREGROUND_OFFSET|$.ColorId.DefaultBackground<<$.MetadataConsts.BACKGROUND_OFFSET)>>>0,new y.$Ru(i,t===null?e.$KD:t)}}),define(z[34],R([0,1,35,9,19,36,15,16,49,11,20,29,17,10]),function(D,e,y,$,O,v,h,t,i,f,r,d,b,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$UD=e.$TD=e.$SD=e.$RD=e.$QD=e.$PD=void 0;var n;(function(E){E[E.CHEAP_TOKENIZATION_LENGTH_LIMIT=2048]="CHEAP_TOKENIZATION_LENGTH_LIMIT"})(n||(n={}));class s{constructor(a,l){this.tokenizationSupport=l,this.a=this.tokenizationSupport.getInitialState(),this.store=new o(a)}getStartState(a){return this.store.getStartState(a,this.a)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.a)}}e.$PD=s;class u extends s{constructor(a,l,w,P){super(a,l),this._textModel=w,this._languageIdCodec=P}updateTokensUntilLine(a,l){const w=this._textModel.getLanguageId();for(;;){const P=this.getFirstInvalidLine();if(!P||P.lineNumber>l)break;const A=this._textModel.getLineContent(P.lineNumber),F=S(this._languageIdCodec,w,this.tokenizationSupport,A,!0,P.startState);a.add(P.lineNumber,F.tokens),this.store.setEndState(P.lineNumber,F.endState)}}getTokenTypeIfInsertingCharacter(a,l){const w=this.getStartState(a.lineNumber);if(!w)return f.StandardTokenType.Other;const P=this._textModel.getLanguageId(),A=this._textModel.getLineContent(a.lineNumber),F=A.substring(0,a.column-1)+l+A.substring(a.column-1),U=S(this._languageIdCodec,P,this.tokenizationSupport,F,!0,w),q=new c.$Iu(U.tokens,F,this._languageIdCodec);if(q.getCount()===0)return f.StandardTokenType.Other;const M=q.findTokenIndexAtOffset(a.column-1);return q.getStandardTokenType(M)}tokenizeLineWithEdit(a,l,w){const P=a.lineNumber,A=a.column,F=this.getStartState(P);if(!F)return null;const U=this._textModel.getLineContent(P),q=U.substring(0,A-1)+w+U.substring(A-1+l),M=this._textModel.getLanguageIdAtPosition(P,0),m=S(this._languageIdCodec,M,this.tokenizationSupport,q,!0,F);return new c.$Iu(m.tokens,q,this._languageIdCodec)}hasAccurateTokensForLine(a){const l=this.store.getFirstInvalidEndStateLineNumberOrMax();return a<l}isCheapToTokenize(a){const l=this.store.getFirstInvalidEndStateLineNumberOrMax();return a<l||a===l&&this._textModel.getLineLength(a)<n.CHEAP_TOKENIZATION_LENGTH_LIMIT}tokenizeHeuristically(a,l,w){if(w<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(l<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(a,w),{heuristicTokens:!1};let P=this.b(l);const A=this._textModel.getLanguageId();for(let F=l;F<=w;F++){const U=this._textModel.getLineContent(F),q=S(this._languageIdCodec,A,this.tokenizationSupport,U,!0,P);a.add(F,q.tokens),P=q.endState}return{heuristicTokens:!0}}b(a){let l=this._textModel.getLineFirstNonWhitespaceColumn(a);const w=[];let P=null;for(let U=a-1;l>1&&U>=1;U--){const q=this._textModel.getLineFirstNonWhitespaceColumn(U);if(q!==0&&q<l&&(w.push(this._textModel.getLineContent(U)),l=q,P=this.getStartState(U),P))break}P||(P=this.tokenizationSupport.getInitialState()),w.reverse();const A=this._textModel.getLanguageId();let F=P;for(const U of w)F=S(this._languageIdCodec,A,this.tokenizationSupport,U,!1,F).endState;return F}}e.$QD=u;class o{constructor(a){this.d=a,this.a=new g,this.b=new C,this.b.addRange(new i.$4t(1,a+1))}getEndState(a){return this.a.getEndState(a)}setEndState(a,l){if(!l)throw new $.$gb("Cannot set null/undefined state");this.b.delete(a);const w=this.a.setEndState(a,l);return w&&a<this.d&&this.b.addRange(new i.$4t(a+1,a+2)),w}acceptChange(a,l){this.d+=l-a.length,this.a.acceptChange(a,l),this.b.addRangeAndResize(new i.$4t(a.startLineNumber,a.endLineNumberExclusive),l)}acceptChanges(a){for(const l of a){const[w]=(0,h.$Hu)(l.text);this.acceptChange(new t.$6t(l.range.startLineNumber,l.range.endLineNumber+1),w+1)}}invalidateEndStateRange(a){this.b.addRange(new i.$4t(a.startLineNumber,a.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this.b.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this.b.min===null}getStartState(a,l){return a===1?l:this.getEndState(a-1)}getFirstInvalidLine(a){const l=this.getFirstInvalidEndStateLineNumber();if(l===null)return null;const w=this.getStartState(l,a);if(!w)throw new $.$gb("Start state must be defined");return{lineNumber:l,startState:w}}}e.$RD=o;class g{constructor(){this.a=new d.$ND(null)}getEndState(a){return this.a.get(a)}setEndState(a,l){const w=this.a.get(a);return w&&w.equals(l)?!1:(this.a.set(a,l),!0)}acceptChange(a,l){let w=a.length;l>0&&w>0&&(w--,l--),this.a.replace(a.startLineNumber,w,l)}acceptChanges(a){for(const l of a){const[w]=(0,h.$Hu)(l.text);this.acceptChange(new t.$6t(l.range.startLineNumber,l.range.endLineNumber+1),w+1)}}}e.$SD=g;class C{constructor(){this.a=[]}getRanges(){return this.a}get min(){return this.a.length===0?null:this.a[0].start}removeMin(){if(this.a.length===0)return null;const a=this.a[0];return a.start+1===a.endExclusive?this.a.shift():this.a[0]=new i.$4t(a.start+1,a.endExclusive),a.start}delete(a){const l=this.a.findIndex(w=>w.contains(a));if(l!==-1){const w=this.a[l];w.start===a?w.endExclusive===a+1?this.a.splice(l,1):this.a[l]=new i.$4t(a+1,w.endExclusive):w.endExclusive===a+1?this.a[l]=new i.$4t(w.start,a):this.a.splice(l,1,new i.$4t(w.start,a),new i.$4t(a+1,w.endExclusive))}}addRange(a){i.$4t.addRange(a,this.a)}addRangeAndResize(a,l){let w=0;for(;!(w>=this.a.length||a.start<=this.a[w].endExclusive);)w++;let P=w;for(;!(P>=this.a.length||a.endExclusive<this.a[P].start);)P++;const A=l-a.length;for(let F=P;F<this.a.length;F++)this.a[F]=this.a[F].delta(A);if(w===P){const F=new i.$4t(a.start,a.start+l);F.isEmpty||this.a.splice(w,0,F)}else{const F=Math.min(a.start,this.a[w].start),U=Math.max(a.endExclusive,this.a[P-1].endExclusive),q=new i.$4t(F,U+A);q.isEmpty?this.a.splice(w,P-w):this.a.splice(w,P-w,q)}}toString(){return this.a.map(a=>a.toString()).join(" + ")}}e.$TD=C;function S(E,a,l,w,P,A){let F=null;if(l)try{F=l.tokenizeEncoded(w,P,A.clone())}catch(U){(0,$.$4)(U)}return F||(F=(0,r.$MD)(E.encodeLanguageId(a),A)),c.$Iu.convertToEndOffset(F.tokens,w.length),F}class k{constructor(a,l){this.b=a,this.d=l,this.a=!1,this.f=!1}dispose(){this.a=!0}handleChanges(){this.g()}g(){this.f||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.f=!0,(0,y.$1h)(a=>{this.f=!1,this.h(a)}))}h(a){const l=Date.now()+a.timeRemaining(),w=()=>{this.a||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.j(),Date.now()<l?(0,O.$E)(w):this.g())};w()}j(){const a=this.b._textModel.getLineCount(),l=new b.$OD,w=v.$ke.create(!1);do if(w.elapsed()>1||this.l(l)>=a)break;while(this.k());this.d.setTokens(l.finalize()),this.checkFinished()}k(){return this.b?!this.b.store.allStatesValid():!1}l(a){const l=this.b?.getFirstInvalidLine();return l?(this.b.updateTokensUntilLine(a,l.lineNumber),l.lineNumber):this.b._textModel.getLineCount()+1}checkFinished(){this.a||this.b.store.allStatesValid()&&this.d.backgroundTokenizationFinished()}requestTokens(a,l){this.b.store.invalidateEndStateRange(new t.$6t(a,l))}}e.$UD=k}),define(z[37],R([0,1]),function(D,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yPb=void 0;class y{static{this.CHANNEL_NAME="textMateWorkerHost"}static getChannel(O){return O.getChannel(y.CHANNEL_NAME)}static setChannel(O,v){O.setChannel(y.CHANNEL_NAME,v)}}e.$yPb=y}),define(z[38],R([0,1,27,2,36,11,33]),function(D,e,y,$,O,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sPb=void 0;class t extends $.$Zc{constructor(f,r,d,b,c,n,s){super(),this.c=f,this.f=r,this.g=d,this.h=b,this.j=c,this.m=n,this.n=s,this.a=[],this.b=this.B(new y.$qe),this.onDidEncounterLanguage=this.b.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this.j()}getInitialState(){return this.f}tokenize(f,r,d){throw new Error("Not supported!")}createBackgroundTokenizer(f,r){if(this.h)return this.h(f,r)}tokenizeEncoded(f,r,d){const b=Math.random()*1e4<1,c=this.n||b,n=c?new O.$ke(!0):void 0,s=this.c.tokenizeLine2(f,d,500);if(c){const o=n.elapsed();(b||o>32)&&this.m(o,f.length,b)}if(s.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${f.substring(0,100)}`),new h.$Ru(s.tokens,d);if(this.g){const o=this.a,g=s.tokens;for(let C=0,S=g.length>>>1;C<S;C++){const k=g[(C<<1)+1],E=v.$Du.getLanguageId(k);o[E]||(o[E]=!0,this.b.fire(E))}}let u;return d.equals(s.ruleStack)?u=d:u=s.ruleStack,new h.$Ru(s.tokens,u)}}e.$sPb=t}),define(z[39],R([0,1,20,2,13]),function(D,e,y,$,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$tPb=void 0;class v extends $.$Zc{get backgroundTokenizerShouldOnlyVerifyTokens(){return this.b.backgroundTokenizerShouldOnlyVerifyTokens}constructor(t,i,f,r){super(),this.a=t,this.b=i,this.c=r,this.B((0,O.keepObserved)(this.c)),this.B(f)}getInitialState(){return this.b.getInitialState()}tokenize(t,i,f){throw new Error("Not supported!")}tokenizeEncoded(t,i,f){return t.length>=this.c.get()?(0,y.$MD)(this.a,f):this.b.tokenizeEncoded(t,i,f)}createBackgroundTokenizer(t,i){if(this.b.createBackgroundTokenizer)return this.b.createBackgroundTokenizer(t,i)}}e.$tPb=v}),define(z[40],R([0,1,18,35,13,19,16,50,34,17,10,38,39,2]),function(D,e,y,$,O,v,h,t,i,f,r,d,b,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xPb=void 0;class n extends t.$yw{constructor(o,g,C,S,k,E,a,l){super(o,g,C,S),this.s=k,this.t=E,this.u=a,this.m=null,this.n=!1,this.o=(0,O.observableValue)(this,-1),this.q=new $.$Wh(()=>this.w(),10),this.o.set(l,void 0),this.v()}dispose(){this.n=!0,super.dispose()}onLanguageId(o,g){this.t=o,this.u=g,this.v()}onEvents(o){super.onEvents(o),this.m?.store.acceptChanges(o.changes),this.q.schedule()}acceptMaxTokenizationLineLength(o){this.o.set(o,void 0)}retokenize(o,g){this.m&&(this.m.store.invalidateEndStateRange(new h.$6t(o,g)),this.q.schedule())}async v(){this.m=null;const o=this.t,g=this.u,C=await this.s.getOrCreateGrammar(o,g);if(!(this.n||o!==this.t||g!==this.u||!C)){if(C.grammar){const S=new b.$tPb(this.u,new d.$sPb(C.grammar,C.initialState,!1,void 0,()=>!1,(k,E,a)=>{this.s.reportTokenizationTime(k,o,C.sourceExtensionId,E,a)},!1),c.$Zc.None,this.o);this.m=new i.$PD(this.b.length,S)}else this.m=null;this.w()}}async w(){if(this.n||!this.m)return;if(!this.p){const{diffStateStacksRefEq:g}=await(0,y.$zq)("vscode-textmate","release/main.js");this.p=g}const o=new Date().getTime();for(;;){let g=0;const C=new f.$OD,S=new s;for(;;){const a=this.m.getFirstInvalidLine();if(a===null||g>200)break;g++;const l=this.b[a.lineNumber-1],w=this.m.tokenizationSupport.tokenizeEncoded(l,!0,a.startState);if(this.m.store.setEndState(a.lineNumber,w.endState)){const A=this.p(a.startState,w.endState);S.setState(a.lineNumber,A)}else S.setState(a.lineNumber,null);if(r.$Iu.convertToEndOffset(w.tokens,l.length),C.add(a.lineNumber,w.tokens),new Date().getTime()-o>20)break}if(g===0)break;const k=S.getStateDeltas();if(this.s.setTokensAndStates(this.d,C.serialize(),k),new Date().getTime()-o>20){(0,v.$E)(()=>this.w());return}}}}e.$xPb=n;class s{constructor(){this.a=-1,this.b=[]}setState(o,g){o===this.a+1?this.b[this.b.length-1].stateDeltas.push(g):this.b.push({startLineNumber:o,stateDeltas:[g]}),this.a=o}getStateDeltas(){return this.b}}}),define(z[41],R([0,1,51]),function(D,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$uPb=void 0,y=K(y);class ${constructor(){this.a=Object.create(null)}reset(){this.a=Object.create(null)}register(v){if(this.a[v.scopeName]){const h=this.a[v.scopeName];y.$eh(h.location,v.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${v.scopeName}.
Old grammar file: ${h.location.toString()}.
New grammar file: ${v.location.toString()}`)}this.a[v.scopeName]=v}getGrammarDefinition(v){return this.a[v]||null}}e.$uPb=$}),define(z[42],R([0,1,2,41]),function(D,e,y,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wPb=e.$vPb=void 0,e.$vPb="No TM Grammar registered for this language.";class O extends y.$Zc{constructor(h,t,i,f){super(),this.a=h,this.b=i.INITIAL,this.c=new $.$uPb,this.f={},this.g={},this.h=new Map,this.j=this.B(new i.Registry({onigLib:f,loadGrammar:async r=>{const d=this.c.getGrammarDefinition(r);if(!d)return this.a.logTrace(`No grammar found for scope ${r}`),null;const b=d.location;try{const c=await this.a.readFile(b);return i.parseRawGrammar(c,b.path)}catch(c){return this.a.logError(`Unable to load and parse grammar for scope ${r} from ${b}`,c),null}},getInjections:r=>{const d=r.split(".");let b=[];for(let c=1;c<=d.length;c++){const n=d.slice(0,c).join(".");b=[...b,...this.f[n]||[]]}return b}}));for(const r of t){if(this.c.register(r),r.injectTo){for(const d of r.injectTo){let b=this.f[d];b||(this.f[d]=b=[]),b.push(r.scopeName)}if(r.embeddedLanguages)for(const d of r.injectTo){let b=this.g[d];b||(this.g[d]=b=[]),b.push(r.embeddedLanguages)}}r.language&&this.h.set(r.language,r.scopeName)}}has(h){return this.h.has(h)}setTheme(h,t){this.j.setTheme(h,t)}getColorMap(){return this.j.getColorMap()}async createGrammar(h,t){const i=this.h.get(h);if(typeof i!="string")throw new Error(e.$vPb);const f=this.c.getGrammarDefinition(i);if(!f)throw new Error(e.$vPb);const r=f.embeddedLanguages;if(this.g[i]){const c=this.g[i];for(const n of c)for(const s of Object.keys(n))r[s]=n[s]}const d=Object.keys(r).length>0;let b;try{b=await this.j.loadGrammarWithConfiguration(i,t,{embeddedLanguages:r,tokenTypes:f.tokenTypes,balancedBracketSelectors:f.balancedBracketSelectors,unbalancedBracketSelectors:f.unbalancedBracketSelectors})}catch(c){throw c.message&&c.message.startsWith("No grammar provided for")?new Error(e.$vPb):c}return{languageId:h,grammar:b,initialState:this.b,containsEmbeddedLanguages:d,sourceExtensionId:f.sourceExtensionId}}}e.$wPb=O}),define(z[52],R([0,1,32,42,40,18,37]),function(D,e,y,$,O,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMateTokenizationWorker=void 0,e.create=t;function t(f){return new i(f)}class i{constructor(r){this.b=new Map,this.c=[],this.d=Promise.resolve(null),this.a=h.$yPb.getChannel(r)}async $init(r){const d=r.grammarDefinitions.map(b=>({location:y.URI.revive(b.location),language:b.language,scopeName:b.scopeName,embeddedLanguages:b.embeddedLanguages,tokenTypes:b.tokenTypes,injectTo:b.injectTo,balancedBracketSelectors:b.balancedBracketSelectors,unbalancedBracketSelectors:b.unbalancedBracketSelectors,sourceExtensionId:b.sourceExtensionId}));this.d=this.f(d,r.onigurumaWASMUri)}async f(r,d){const b=await(0,v.$zq)("vscode-textmate","release/main.js"),c=await(0,v.$zq)("vscode-oniguruma","release/main.js"),s=await(await fetch(d)).arrayBuffer();await c.loadWASM(s);const u=Promise.resolve({createOnigScanner:o=>c.createOnigScanner(o),createOnigString:o=>c.createOnigString(o)});return new $.$wPb({logTrace:o=>{},logError:(o,g)=>console.error(o,g),readFile:o=>this.a.$readFile(o)},r,b,u)}$acceptNewModel(r){const d=y.URI.revive(r.uri),b=this;this.b.set(r.controllerId,new O.$xPb(d,r.lines,r.EOL,r.versionId,{async getOrCreateGrammar(c,n){const s=await b.d;return s?(b.c[n]||(b.c[n]=s.createGrammar(c,n)),b.c[n]):Promise.resolve(null)},setTokensAndStates(c,n,s){b.a.$setTokensAndStates(r.controllerId,c,n,s)},reportTokenizationTime(c,n,s,u,o){b.a.$reportTokenizationTime(c,n,s,u,o)}},r.languageId,r.encodedLanguageId,r.maxTokenizationLineLength))}$acceptModelChanged(r,d){this.b.get(r).onEvents(d)}$retokenize(r,d,b){this.b.get(r).retokenize(d,b)}$acceptModelLanguageChanged(r,d,b){this.b.get(r).onLanguageId(d,b)}$acceptRemovedModel(r){const d=this.b.get(r);d&&(d.dispose(),this.b.delete(r))}async $acceptTheme(r,d){(await this.d)?.setTheme(r,d)}$acceptMaxTokenizationLineLength(r,d){this.b.get(r).acceptMaxTokenizationLineLength(d)}}e.TextMateTokenizationWorker=i})}).call(this);

//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/38c31bc77e0dd6ae88a4e9cc93428cc27a56ba40/core/vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker.js.map
