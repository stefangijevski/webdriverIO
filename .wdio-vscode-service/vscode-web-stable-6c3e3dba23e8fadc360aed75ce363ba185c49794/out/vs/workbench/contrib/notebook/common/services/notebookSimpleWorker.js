/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var rt=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/path","vs/base/common/buffer","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/base/common/map","vs/base/common/stream","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/instantiation","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/lazy","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],lt=function(it){for(var e=[],q=0,M=it.length;q<M;q++)e[q]=rt[it[q]];return e};define(rt[13],lt([0,1]),function(it,e){"use strict";var q,M,F;Object.defineProperty(e,"__esModule",{value:!0}),e.$pi=e.$oi=e.$ni=e.Touch=e.$mi=e.$li=e.$ki=e.$ji=e.$ii=void 0;function E(a,s,u){let n=a.get(s);return n===void 0&&(n=u,a.set(s,n)),n}e.$ii=E;function D(a){const s=[];return a.forEach((u,n)=>{s.push(`${n} => ${u}`)}),`Map(${a.size}) {${s.join(", ")}}`}e.$ji=D;function V(a){const s=[];return a.forEach(u=>{s.push(u)}),`Set(${a.size}) {${s.join(", ")}}`}e.$ki=V;class I{constructor(s,u){this.uri=s,this.value=u}}class o{static{this.a=s=>s.toString()}constructor(s,u){this[q]="ResourceMap",s instanceof o?(this.b=new Map(s.b),this.c=u??o.a):(this.b=new Map,this.c=s??o.a)}set(s,u){return this.b.set(this.c(s),new I(s,u)),this}get(s){return this.b.get(this.c(s))?.value}has(s){return this.b.has(this.c(s))}get size(){return this.b.size}clear(){this.b.clear()}delete(s){return this.b.delete(this.c(s))}forEach(s,u){typeof u<"u"&&(s=s.bind(u));for(const[n,r]of this.b)s(r.value,r.uri,this)}*values(){for(const s of this.b.values())yield s.value}*keys(){for(const s of this.b.values())yield s.uri}*entries(){for(const s of this.b.values())yield[s.uri,s.value]}*[(q=Symbol.toStringTag,Symbol.iterator)](){for(const[,s]of this.b)yield[s.uri,s.value]}}e.$li=o;class b{constructor(s,u){this[M]="ResourceSet",!s||typeof s=="function"?this.a=new o(s):(this.a=new o(u),s.forEach(this.add,this))}get size(){return this.a.size}add(s){return this.a.set(s,s),this}clear(){this.a.clear()}delete(s){return this.a.delete(s)}forEach(s,u){this.a.forEach((n,r)=>s.call(u,r,r,this))}has(s){return this.a.has(s)}entries(){return this.a.entries()}keys(){return this.a.keys()}values(){return this.a.keys()}[(M=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}e.$mi=b;var R;(function(a){a[a.None=0]="None",a[a.AsOld=1]="AsOld",a[a.AsNew=2]="AsNew"})(R||(e.Touch=R={}));class ${constructor(){this[F]="LinkedMap",this.a=new Map,this.b=void 0,this.c=void 0,this.d=0,this.e=0}clear(){this.a.clear(),this.b=void 0,this.c=void 0,this.d=0,this.e++}isEmpty(){return!this.b&&!this.c}get size(){return this.d}get first(){return this.b?.value}get last(){return this.c?.value}has(s){return this.a.has(s)}get(s,u=0){const n=this.a.get(s);if(n)return u!==0&&this.j(n,u),n.value}set(s,u,n=0){let r=this.a.get(s);if(r)r.value=u,n!==0&&this.j(r,n);else{switch(r={key:s,value:u,next:void 0,previous:void 0},n){case 0:this.h(r);break;case 1:this.g(r);break;case 2:this.h(r);break;default:this.h(r);break}this.a.set(s,r),this.d++}return this}delete(s){return!!this.remove(s)}remove(s){const u=this.a.get(s);if(u)return this.a.delete(s),this.i(u),this.d--,u.value}shift(){if(!this.b&&!this.c)return;if(!this.b||!this.c)throw new Error("Invalid list");const s=this.b;return this.a.delete(s.key),this.i(s),this.d--,s.value}forEach(s,u){const n=this.e;let r=this.b;for(;r;){if(u?s.bind(u)(r.value,r.key,this):s(r.value,r.key,this),this.e!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const s=this,u=this.e;let n=this.b;const r={[Symbol.iterator](){return r},next(){if(s.e!==u)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){const s=this,u=this.e;let n=this.b;const r={[Symbol.iterator](){return r},next(){if(s.e!==u)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){const s=this,u=this.e;let n=this.b;const r={[Symbol.iterator](){return r},next(){if(s.e!==u)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(F=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}f(s){if(s>=this.size)return;if(s===0){this.clear();return}let u=this.b,n=this.size;for(;u&&n>s;)this.a.delete(u.key),u=u.next,n--;this.b=u,this.d=n,u&&(u.previous=void 0),this.e++}g(s){if(!this.b&&!this.c)this.c=s;else if(this.b)s.next=this.b,this.b.previous=s;else throw new Error("Invalid list");this.b=s,this.e++}h(s){if(!this.b&&!this.c)this.b=s;else if(this.c)s.previous=this.c,this.c.next=s;else throw new Error("Invalid list");this.c=s,this.e++}i(s){if(s===this.b&&s===this.c)this.b=void 0,this.c=void 0;else if(s===this.b){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this.b=s.next}else if(s===this.c){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this.c=s.previous}else{const u=s.next,n=s.previous;if(!u||!n)throw new Error("Invalid list");u.previous=n,n.next=u}s.next=void 0,s.previous=void 0,this.e++}j(s,u){if(!this.b||!this.c)throw new Error("Invalid list");if(!(u!==1&&u!==2)){if(u===1){if(s===this.b)return;const n=s.next,r=s.previous;s===this.c?(r.next=void 0,this.c=r):(n.previous=r,r.next=n),s.previous=void 0,s.next=this.b,this.b.previous=s,this.b=s,this.e++}else if(u===2){if(s===this.c)return;const n=s.next,r=s.previous;s===this.b?(n.previous=void 0,this.b=n):(n.previous=r,r.next=n),s.next=void 0,s.previous=this.c,this.c.next=s,this.c=s,this.e++}}}toJSON(){const s=[];return this.forEach((u,n)=>{s.push([n,u])}),s}fromJSON(s){this.clear();for(const[u,n]of s)this.set(u,n)}}e.$ni=$;class O extends ${constructor(s,u=1){super(),this.k=s,this.l=Math.min(Math.max(0,u),1)}get limit(){return this.k}set limit(s){this.k=s,this.m()}get ratio(){return this.l}set ratio(s){this.l=Math.min(Math.max(0,s),1),this.m()}get(s,u=2){return super.get(s,u)}peek(s){return super.get(s,0)}set(s,u){return super.set(s,u,2),this.m(),this}m(){this.size>this.k&&this.f(Math.round(this.k*this.l))}}e.$oi=O;class m{constructor(){this.a=new Map}add(s){return this.a.set(s,(this.a.get(s)||0)+1),this}delete(s){let u=this.a.get(s)||0;return u===0?!1:(u--,u===0?this.a.delete(s):this.a.set(s,u),!0)}has(s){return this.a.has(s)}}e.$pi=m}),define(rt[14],lt([0,1,4,7]),function(it,e,q,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ib=e.$Hb=e.$Gb=e.$Fb=e.$Eb=e.$Db=e.$Cb=e.$Bb=e.$Ab=e.$zb=e.$yb=e.$xb=e.$wb=e.$vb=e.$ub=void 0;function F(i){const h=i;return h?typeof h.read=="function":!1}e.$ub=F;function E(i){const h=i;return h?[h.on,h.pause,h.resume,h.destroy].every(c=>typeof c=="function"):!1}e.$vb=E;function D(i){const h=i;return h?E(h.stream)&&Array.isArray(h.buffer)&&typeof h.ended=="boolean":!1}e.$wb=D;function V(i,h){return new I(i,h)}e.$xb=V;class I{constructor(h,c){this.e=h,this.f=c,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(h){if(!this.a.destroyed){if(this.a.flowing)this.g(h);else if(this.b.data.push(h),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(c=>this.d.push(c))}}error(h){this.a.destroyed||(this.a.flowing?this.h(h):this.b.error.push(h))}end(h){this.a.destroyed||(typeof h<"u"&&this.write(h),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(h){this.c.data.slice(0).forEach(c=>c(h))}h(h){this.c.error.length===0?(0,q.$Y)(h):this.c.error.slice(0).forEach(c=>c(h))}i(){this.c.end.slice(0).forEach(h=>h())}on(h,c){if(!this.a.destroyed)switch(h){case"data":this.c.data.push(c),this.resume();break;case"end":this.c.end.push(c),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(c),this.a.flowing&&this.k();break}}removeListener(h,c){if(this.a.destroyed)return;let w;switch(h){case"data":w=this.c.data;break;case"end":w=this.c.end;break;case"error":w=this.c.error;break}if(w){const L=w.indexOf(c);L>=0&&w.splice(L,1)}}j(){if(this.b.data.length>0){const h=this.e(this.b.data);this.g(h),this.b.data.length=0;const c=[...this.d];this.d.length=0,c.forEach(w=>w())}}k(){if(this.c.error.length>0){for(const h of this.b.error)this.h(h);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function o(i,h){const c=[];let w;for(;(w=i.read())!==null;)c.push(w);return h(c)}e.$yb=o;function b(i,h,c){const w=[];let L;for(;(L=i.read())!==null&&w.length<c;)w.push(L);return L===null&&w.length>0?h(w):{read:()=>{if(w.length>0)return w.shift();if(typeof L<"u"){const S=L;return L=void 0,S}return i.read()}}}e.$zb=b;function R(i,h){return new Promise((c,w)=>{const L=[];$(i,{onData:S=>{h&&L.push(S)},onError:S=>{h?w(S):c(void 0)},onEnd:()=>{c(h?h(L):void 0)}})})}e.$Ab=R;function $(i,h){let c=!1;return i.on("error",w=>{c||h.onError(w)}),i.on("end",()=>{c||h.onEnd()}),i.on("data",w=>{c||h.onData(w)}),(0,M.$jb)(()=>c=!0)}e.$Bb=$;function O(i,h){return new Promise((c,w)=>{const L=new M.$kb,S=[],P=B=>{if(S.push(B),S.length>h)return L.dispose(),i.pause(),c({stream:i,buffer:S,ended:!1})},f=B=>w(B),C=()=>c({stream:i,buffer:S,ended:!0});L.add((0,M.$jb)(()=>i.removeListener("error",f))),i.on("error",f),L.add((0,M.$jb)(()=>i.removeListener("end",C))),i.on("end",C),L.add((0,M.$jb)(()=>i.removeListener("data",P))),i.on("data",P)})}e.$Cb=O;function m(i,h){const c=V(h);return c.end(i),c}e.$Db=m;function a(){const i=V(()=>{throw new Error("not supported")});return i.end(),i}e.$Eb=a;function s(i){let h=!1;return{read:()=>h?null:(h=!0,i)}}e.$Fb=s;function u(i,h,c){const w=V(c);return $(i,{onData:L=>w.write(h.data(L)),onError:L=>w.error(h.error?h.error(L):L),onEnd:()=>w.end()}),w}e.$Gb=u;function n(i,h,c){let w=!1;return{read:()=>{const L=h.read();return w?L:(w=!0,L!==null?c([i,L]):i)}}}e.$Hb=n;function r(i,h,c){let w=!1;const L=V(c);return $(h,{onData:S=>w?L.write(S):(w=!0,L.write(c([i,S]))),onError:S=>L.error(S),onEnd:()=>{w||(w=!0,L.write(i)),L.end()}}),L}e.$Ib=r}),define(rt[6],lt([0,1,37,14]),function(it,e,q,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4b=e.$3b=e.$2b=e.$1b=e.$Zb=e.$Yb=e.$Xb=e.$Wb=e.$Vb=e.$Ub=e.$Tb=e.$Sb=e.$Rb=e.$Qb=e.$Pb=e.$Ob=e.$Nb=e.$Mb=e.$Lb=e.$Kb=e.$Jb=void 0;const F=typeof Buffer<"u",E=new q.$T(()=>new Uint8Array(256));let D,V;class I{static alloc(p){return F?new I(Buffer.allocUnsafe(p)):new I(new Uint8Array(p))}static wrap(p){return F&&!Buffer.isBuffer(p)&&(p=Buffer.from(p.buffer,p.byteOffset,p.byteLength)),new I(p)}static fromString(p,z){return!(z?.dontUseNodeBuffer||!1)&&F?new I(Buffer.from(p)):(D||(D=new TextEncoder),new I(D.encode(p)))}static fromByteArray(p){const z=I.alloc(p.length);for(let Z=0,K=p.length;Z<K;Z++)z.buffer[Z]=p[Z];return z}static concat(p,z){if(typeof z>"u"){z=0;for(let tt=0,x=p.length;tt<x;tt++)z+=p[tt].byteLength}const Z=I.alloc(z);let K=0;for(let tt=0,x=p.length;tt<x;tt++){const _=p[tt];Z.set(_,K),K+=_.byteLength}return Z}constructor(p){this.buffer=p,this.byteLength=this.buffer.byteLength}clone(){const p=I.alloc(this.byteLength);return p.set(this),p}toString(){return F?this.buffer.toString():(V||(V=new TextDecoder),V.decode(this.buffer))}slice(p,z){return new I(this.buffer.subarray(p,z))}set(p,z){if(p instanceof I)this.buffer.set(p.buffer,z);else if(p instanceof Uint8Array)this.buffer.set(p,z);else if(p instanceof ArrayBuffer)this.buffer.set(new Uint8Array(p),z);else if(ArrayBuffer.isView(p))this.buffer.set(new Uint8Array(p.buffer,p.byteOffset,p.byteLength),z);else throw new Error("Unknown argument 'array'")}readUInt32BE(p){return $(this.buffer,p)}writeUInt32BE(p,z){O(this.buffer,p,z)}readUInt32LE(p){return m(this.buffer,p)}writeUInt32LE(p,z){a(this.buffer,p,z)}readUInt8(p){return s(this.buffer,p)}writeUInt8(p,z){u(this.buffer,p,z)}indexOf(p,z=0){return o(this.buffer,p instanceof I?p.buffer:p,z)}}e.$Jb=I;function o(A,p,z=0){const Z=p.byteLength,K=A.byteLength;if(Z===0)return 0;if(Z===1)return A.indexOf(p[0]);if(Z>K-z)return-1;const tt=E.value;tt.fill(p.length);for(let Y=0;Y<p.length;Y++)tt[p[Y]]=p.length-Y-1;let x=z+p.length-1,_=x,y=-1;for(;x<K;)if(A[x]===p[_]){if(_===0){y=x;break}x--,_--}else x+=Math.max(p.length-_,tt[A[x]]),_=p.length-1;return y}e.$Kb=o;function b(A,p){return A[p+0]<<0>>>0|A[p+1]<<8>>>0}e.$Lb=b;function R(A,p,z){A[z+0]=p&255,p=p>>>8,A[z+1]=p&255}e.$Mb=R;function $(A,p){return A[p]*2**24+A[p+1]*2**16+A[p+2]*2**8+A[p+3]}e.$Nb=$;function O(A,p,z){A[z+3]=p,p=p>>>8,A[z+2]=p,p=p>>>8,A[z+1]=p,p=p>>>8,A[z]=p}e.$Ob=O;function m(A,p){return A[p+0]<<0>>>0|A[p+1]<<8>>>0|A[p+2]<<16>>>0|A[p+3]<<24>>>0}e.$Pb=m;function a(A,p,z){A[z+0]=p&255,p=p>>>8,A[z+1]=p&255,p=p>>>8,A[z+2]=p&255,p=p>>>8,A[z+3]=p&255}e.$Qb=a;function s(A,p){return A[p]}e.$Rb=s;function u(A,p,z){A[z]=p}e.$Sb=u;function n(A){return M.$yb(A,p=>I.concat(p))}e.$Tb=n;function r(A){return M.$Fb(A)}e.$Ub=r;function i(A){return M.$Ab(A,p=>I.concat(p))}e.$Vb=i;async function h(A){return A.ended?I.concat(A.buffer):I.concat([...A.buffer,await i(A.stream)])}e.$Wb=h;function c(A){return M.$Db(A,p=>I.concat(p))}e.$Xb=c;function w(A){return M.$Gb(A,{data:p=>typeof p=="string"?I.fromString(p):I.wrap(p)},p=>I.concat(p))}e.$Yb=w;function L(A){return M.$xb(p=>I.concat(p),A)}e.$Zb=L;function S(A,p){return M.$Hb(A,p,z=>I.concat(z))}e.$1b=S;function P(A,p){return M.$Ib(A,p,z=>I.concat(z))}e.$2b=P;function f(A){let p=0,z=0,Z=0;const K=new Uint8Array(Math.floor(A.length/4*3)),tt=_=>{switch(z){case 3:K[Z++]=p|_,z=0;break;case 2:K[Z++]=p|_>>>2,p=_<<6,z=3;break;case 1:K[Z++]=p|_>>>4,p=_<<4,z=2;break;default:p=_<<2,z=1}};for(let _=0;_<A.length;_++){const y=A.charCodeAt(_);if(y>=65&&y<=90)tt(y-65);else if(y>=97&&y<=122)tt(y-97+26);else if(y>=48&&y<=57)tt(y-48+52);else if(y===43||y===45)tt(62);else if(y===47||y===95)tt(63);else{if(y===61)break;throw new SyntaxError(`Unexpected base64 character ${A[_]}`)}}const x=Z;for(;z>0;)tt(0);return I.wrap(K).slice(0,x)}e.$3b=f;const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function H({buffer:A},p=!0,z=!1){const Z=z?B:C;let K="";const tt=A.byteLength%3;let x=0;for(;x<A.byteLength-tt;x+=3){const _=A[x+0],y=A[x+1],Y=A[x+2];K+=Z[_>>>2],K+=Z[(_<<4|y>>>4)&63],K+=Z[(y<<2|Y>>>6)&63],K+=Z[Y&63]}if(tt===1){const _=A[x+0];K+=Z[_>>>2],K+=Z[_<<4&63],p&&(K+="==")}else if(tt===2){const _=A[x+0],y=A[x+1];K+=Z[_>>>2],K+=Z[(_<<4|y>>>4)&63],K+=Z[y<<2&63],p&&(K+="=")}return K}e.$4b=H}),define(rt[15],lt([0,1]),function(it,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4c=void 0,e.$4c=Symbol("MicrotaskDelay")}),define(rt[16],lt([0,1]),function(it,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ds=e.StringEOL=void 0;var q;(function(F){F[F.Unknown=0]="Unknown",F[F.Invalid=3]="Invalid",F[F.LF=1]="LF",F[F.CRLF=2]="CRLF"})(q||(e.StringEOL=q={}));function M(F){let E=0,D=0,V=0,I=0;for(let o=0,b=F.length;o<b;o++){const R=F.charCodeAt(o);R===13?(E===0&&(D=o),E++,o+1<b&&F.charCodeAt(o+1)===10?(I|=2,o++):I|=3,V=o+1):R===10&&(I|=1,E===0&&(D=o),E++,V=o+1)}return E===0&&(D=F.length),[E,D,F.length-V,I]}e.$ds=M}),define(rt[17],lt([0,1]),function(it,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ZB=e.$YB=e.$XB=e.$WB=e.$VB=e.$UB=e.$TB=e.$SB=e.$RB=e.NodeColor=e.$QB=void 0;class q{constructor(s,u){this.piece=s,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$RB)return F(this.right);let s=this;for(;s.parent!==e.$RB&&s.parent.left!==s;)s=s.parent;return s.parent===e.$RB?e.$RB:s.parent}prev(){if(this.left!==e.$RB)return E(this.left);let s=this;for(;s.parent!==e.$RB&&s.parent.right!==s;)s=s.parent;return s.parent===e.$RB?e.$RB:s.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$QB=q;var M;(function(a){a[a.Black=0]="Black",a[a.Red=1]="Red"})(M||(e.NodeColor=M={})),e.$RB=new q(null,0),e.$RB.parent=e.$RB,e.$RB.left=e.$RB,e.$RB.right=e.$RB,e.$RB.color=0;function F(a){for(;a.left!==e.$RB;)a=a.left;return a}e.$SB=F;function E(a){for(;a.right!==e.$RB;)a=a.right;return a}e.$TB=E;function D(a){return a===e.$RB?0:a.size_left+a.piece.length+D(a.right)}function V(a){return a===e.$RB?0:a.lf_left+a.piece.lineFeedCnt+V(a.right)}function I(){e.$RB.parent=e.$RB}function o(a,s){const u=s.right;u.size_left+=s.size_left+(s.piece?s.piece.length:0),u.lf_left+=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),s.right=u.left,u.left!==e.$RB&&(u.left.parent=s),u.parent=s.parent,s.parent===e.$RB?a.root=u:s.parent.left===s?s.parent.left=u:s.parent.right=u,u.left=s,s.parent=u}e.$UB=o;function b(a,s){const u=s.left;s.left=u.right,u.right!==e.$RB&&(u.right.parent=s),u.parent=s.parent,s.size_left-=u.size_left+(u.piece?u.piece.length:0),s.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),s.parent===e.$RB?a.root=u:s===s.parent.right?s.parent.right=u:s.parent.left=u,u.right=s,s.parent=u}e.$VB=b;function R(a,s){let u,n;if(s.left===e.$RB?(n=s,u=n.right):s.right===e.$RB?(n=s,u=n.left):(n=F(s.right),u=n.right),n===a.root){a.root=u,u.color=0,s.detach(),I(),a.root.parent=e.$RB;return}const r=n.color===1;if(n===n.parent.left?n.parent.left=u:n.parent.right=u,n===s?(u.parent=n.parent,m(a,u)):(n.parent===s?u.parent=n:u.parent=n.parent,m(a,u),n.left=s.left,n.right=s.right,n.parent=s.parent,n.color=s.color,s===a.root?a.root=n:s===s.parent.left?s.parent.left=n:s.parent.right=n,n.left!==e.$RB&&(n.left.parent=n),n.right!==e.$RB&&(n.right.parent=n),n.size_left=s.size_left,n.lf_left=s.lf_left,m(a,n)),s.detach(),u.parent.left===u){const h=D(u),c=V(u);if(h!==u.parent.size_left||c!==u.parent.lf_left){const w=h-u.parent.size_left,L=c-u.parent.lf_left;u.parent.size_left=h,u.parent.lf_left=c,O(a,u.parent,w,L)}}if(m(a,u.parent),r){I();return}let i;for(;u!==a.root&&u.color===0;)u===u.parent.left?(i=u.parent.right,i.color===1&&(i.color=0,u.parent.color=1,o(a,u.parent),i=u.parent.right),i.left.color===0&&i.right.color===0?(i.color=1,u=u.parent):(i.right.color===0&&(i.left.color=0,i.color=1,b(a,i),i=u.parent.right),i.color=u.parent.color,u.parent.color=0,i.right.color=0,o(a,u.parent),u=a.root)):(i=u.parent.left,i.color===1&&(i.color=0,u.parent.color=1,b(a,u.parent),i=u.parent.left),i.left.color===0&&i.right.color===0?(i.color=1,u=u.parent):(i.left.color===0&&(i.right.color=0,i.color=1,o(a,i),i=u.parent.left),i.color=u.parent.color,u.parent.color=0,i.left.color=0,b(a,u.parent),u=a.root));u.color=0,I()}e.$WB=R;function $(a,s){for(m(a,s);s!==a.root&&s.parent.color===1;)if(s.parent===s.parent.parent.left){const u=s.parent.parent.right;u.color===1?(s.parent.color=0,u.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.right&&(s=s.parent,o(a,s)),s.parent.color=0,s.parent.parent.color=1,b(a,s.parent.parent))}else{const u=s.parent.parent.left;u.color===1?(s.parent.color=0,u.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.left&&(s=s.parent,b(a,s)),s.parent.color=0,s.parent.parent.color=1,o(a,s.parent.parent))}a.root.color=0}e.$XB=$;function O(a,s,u,n){for(;s!==a.root&&s!==e.$RB;)s.parent.left===s&&(s.parent.size_left+=u,s.parent.lf_left+=n),s=s.parent}e.$YB=O;function m(a,s){let u=0,n=0;if(s!==a.root){for(;s!==a.root&&s===s.parent.right;)s=s.parent;if(s!==a.root)for(s=s.parent,u=D(s.left)-s.size_left,n=V(s.left)-s.lf_left,s.size_left+=u,s.lf_left+=n;s!==a.root&&(u!==0||n!==0);)s.parent.left===s&&(s.parent.size_left+=u,s.parent.lf_left+=n),s=s.parent}}e.$ZB=m}),define(rt[8],lt([0,1,38,9,18,17,19]),function(it,e,q,M,F,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$B=e.$0B=e.$9B=e.$8B=e.$7B=void 0;const V=65535;function I(u){let n;return u[u.length-1]<65536?n=new Uint16Array(u.length):n=new Uint32Array(u.length),n.set(u,0),n}class o{constructor(n,r,i,h,c){this.lineStarts=n,this.cr=r,this.lf=i,this.crlf=h,this.isBasicASCII=c}}function b(u,n=!0){const r=[0];let i=1;for(let h=0,c=u.length;h<c;h++){const w=u.charCodeAt(h);w===13?h+1<c&&u.charCodeAt(h+1)===10?(r[i++]=h+2,h++):r[i++]=h+1:w===10&&(r[i++]=h+1)}return n?I(r):r}e.$7B=b;function R(u,n){u.length=0,u[0]=0;let r=1,i=0,h=0,c=0,w=!0;for(let S=0,P=n.length;S<P;S++){const f=n.charCodeAt(S);f===13?S+1<P&&n.charCodeAt(S+1)===10?(c++,u[r++]=S+2,S++):(i++,u[r++]=S+1):f===10?(h++,u[r++]=S+1):w&&f!==9&&(f<32||f>126)&&(w=!1)}const L=new o(I(u),i,h,c,w);return u.length=0,L}e.$8B=R;class ${constructor(n,r,i,h,c){this.bufferIndex=n,this.start=r,this.end=i,this.lineFeedCnt=h,this.length=c}}e.$9B=$;class O{constructor(n,r){this.buffer=n,this.lineStarts=r}}e.$0B=O;class m{constructor(n,r){this.a=[],this.c=n,this.d=r,this.b=0,n.root!==E.$RB&&n.iterate(n.root,i=>(i!==E.$RB&&this.a.push(i.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class a{constructor(n){this.a=n,this.b=[]}get(n){for(let r=this.b.length-1;r>=0;r--){const i=this.b[r];if(i.nodeStartOffset<=n&&i.nodeStartOffset+i.node.piece.length>=n)return i}return null}get2(n){for(let r=this.b.length-1;r>=0;r--){const i=this.b[r];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<n&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=n)return i}return null}set(n){this.b.length>=this.a&&this.b.shift(),this.b.push(n)}validate(n){let r=!1;const i=this.b;for(let h=0;h<i.length;h++){const c=i[h];if(c.node.parent===null||c.nodeStartOffset>=n){i[h]=null,r=!0;continue}}if(r){const h=[];for(const c of i)c!==null&&h.push(c);this.b=h}}}class s{constructor(n,r,i){this.create(n,r,i)}create(n,r,i){this.a=[new O("",[0])],this.g={line:0,column:0},this.root=E.$RB,this.b=1,this.c=0,this.d=r,this.e=r.length,this.f=i;let h=null;for(let c=0,w=n.length;c<w;c++)if(n[c].buffer.length>0){n[c].lineStarts||(n[c].lineStarts=b(n[c].buffer));const L=new $(c+1,{line:0,column:0},{line:n[c].lineStarts.length-1,column:n[c].buffer.length-n[c].lineStarts[n[c].lineStarts.length-1]},n[c].lineStarts.length-1,n[c].buffer.length);this.a.push(n[c]),h=this.S(h,L)}this.h=new a(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(n){const r=V,i=r-Math.floor(r/3),h=i*2;let c="",w=0;const L=[];if(this.iterate(this.root,S=>{const P=this.R(S),f=P.length;if(w<=i||w+f<h)return c+=P,w+=f,!0;const C=c.replace(/\r\n|\r|\n/g,n);return L.push(new O(C,b(C))),c=P,w=f,!0}),w>0){const S=c.replace(/\r\n|\r|\n/g,n);L.push(new O(S,b(S)))}this.create(L,n,!0)}getEOL(){return this.d}setEOL(n){this.d=n,this.e=this.d.length,this.normalizeEOL(n)}createSnapshot(n){return new m(this,n)}equal(n){if(this.getLength()!==n.getLength()||this.getLineCount()!==n.getLineCount())return!1;let r=0;return this.iterate(this.root,h=>{if(h===E.$RB)return!0;const c=this.R(h),w=c.length,L=n.G(r),S=n.G(r+w),P=n.getValueInRange2(L,S);return r+=w,c===P})}getOffsetAt(n,r){let i=0,h=this.root;for(;h!==E.$RB;)if(h.left!==E.$RB&&h.lf_left+1>=n)h=h.left;else if(h.lf_left+h.piece.lineFeedCnt+1>=n){i+=h.size_left;const c=this.B(h,n-h.lf_left-2);return i+=c+r-1}else n-=h.lf_left+h.piece.lineFeedCnt,i+=h.size_left+h.piece.length,h=h.right;return i}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let r=this.root,i=0;const h=n;for(;r!==E.$RB;)if(r.size_left!==0&&r.size_left>=n)r=r.left;else if(r.size_left+r.piece.length>=n){const c=this.A(r,n-r.size_left);if(i+=r.lf_left+c.index,c.index===0){const w=this.getOffsetAt(i+1,1),L=h-w;return new q.$Lr(i+1,L+1)}return new q.$Lr(i+1,c.remainder+1)}else if(n-=r.size_left+r.piece.length,i+=r.lf_left+r.piece.lineFeedCnt,r.right===E.$RB){const c=this.getOffsetAt(i+1,1),w=h-n-c;return new q.$Lr(i+1,w+1)}else r=r.right;return new q.$Lr(1,1)}getValueInRange(n,r){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";const i=this.H(n.startLineNumber,n.startColumn),h=this.H(n.endLineNumber,n.endColumn),c=this.getValueInRange2(i,h);return r?r!==this.d||!this.f?c.replace(/\r\n|\r|\n/g,r):r===this.getEOL()&&this.f?c:c.replace(/\r\n|\r|\n/g,r):c}getValueInRange2(n,r){if(n.node===r.node){const L=n.node,S=this.a[L.piece.bufferIndex].buffer,P=this.u(L.piece.bufferIndex,L.piece.start);return S.substring(P+n.remainder,P+r.remainder)}let i=n.node;const h=this.a[i.piece.bufferIndex].buffer,c=this.u(i.piece.bufferIndex,i.piece.start);let w=h.substring(c+n.remainder,c+i.piece.length);for(i=i.next();i!==E.$RB;){const L=this.a[i.piece.bufferIndex].buffer,S=this.u(i.piece.bufferIndex,i.piece.start);if(i===r.node){w+=L.substring(S,S+r.remainder);break}else w+=L.substr(S,i.piece.length);i=i.next()}return w}getLinesContent(){const n=[];let r=0,i="",h=!1;return this.iterate(this.root,c=>{if(c===E.$RB)return!0;const w=c.piece;let L=w.length;if(L===0)return!0;const S=this.a[w.bufferIndex].buffer,P=this.a[w.bufferIndex].lineStarts,f=w.start.line,C=w.end.line;let B=P[f]+w.start.column;if(h&&(S.charCodeAt(B)===10&&(B++,L--),n[r++]=i,i="",h=!1,L===0))return!0;if(f===C)return!this.f&&S.charCodeAt(B+L-1)===13?(h=!0,i+=S.substr(B,L-1)):i+=S.substr(B,L),!0;i+=this.f?S.substring(B,Math.max(B,P[f+1]-this.e)):S.substring(B,P[f+1]).replace(/(\r\n|\r|\n)$/,""),n[r++]=i;for(let H=f+1;H<C;H++)i=this.f?S.substring(P[H],P[H+1]-this.e):S.substring(P[H],P[H+1]).replace(/(\r\n|\r|\n)$/,""),n[r++]=i;return!this.f&&S.charCodeAt(P[C]+w.end.column-1)===13?(h=!0,w.end.column===0?r--:i=S.substr(P[C],w.end.column-1)):i=S.substr(P[C],w.end.column),!0}),h&&(n[r++]=i,i=""),n[r++]=i,n}getLength(){return this.c}getLineCount(){return this.b}getLineContent(n){return this.j.lineNumber===n?this.j.value:(this.j.lineNumber=n,n===this.b?this.j.value=this.getLineRawContent(n):this.f?this.j.value=this.getLineRawContent(n,this.e):this.j.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(n){if(n.remainder===n.node.piece.length){const r=n.node.next();if(!r)return 0;const i=this.a[r.piece.bufferIndex],h=this.u(r.piece.bufferIndex,r.piece.start);return i.buffer.charCodeAt(h)}else{const r=this.a[n.node.piece.bufferIndex],h=this.u(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return r.buffer.charCodeAt(h)}}getLineCharCode(n,r){const i=this.H(n,r+1);return this.l(i)}getLineLength(n){if(n===this.getLineCount()){const r=this.getOffsetAt(n,1);return this.getLength()-r}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this.e}getCharCode(n){const r=this.G(n);return this.l(r)}findMatchesInNode(n,r,i,h,c,w,L,S,P,f,C){const B=this.a[n.piece.bufferIndex],H=this.u(n.piece.bufferIndex,n.piece.start),A=this.u(n.piece.bufferIndex,c),p=this.u(n.piece.bufferIndex,w);let z;const Z={line:0,column:0};let K,tt;r._wordSeparators?(K=B.buffer.substring(A,p),tt=x=>x+A,r.reset(0)):(K=B.buffer,tt=x=>x,r.reset(A));do if(z=r.next(K),z){if(tt(z.index)>=p)return f;this.s(n,tt(z.index)-H,Z);const x=this.t(n.piece.bufferIndex,c,Z),_=Z.line===c.line?Z.column-c.column+h:Z.column+1,y=_+z[0].length;if(C[f++]=(0,D.$3B)(new M.$Mr(i+x,_,i+x,y),z,S),tt(z.index)+z[0].length>=p||f>=P)return f}while(z);return f}findMatchesLineByLine(n,r,i,h){const c=[];let w=0;const L=new D.$6B(r.wordSeparators,r.regex);let S=this.H(n.startLineNumber,n.startColumn);if(S===null)return[];const P=this.H(n.endLineNumber,n.endColumn);if(P===null)return[];let f=this.s(S.node,S.remainder);const C=this.s(P.node,P.remainder);if(S.node===P.node)return this.findMatchesInNode(S.node,L,n.startLineNumber,n.startColumn,f,C,r,i,h,w,c),c;let B=n.startLineNumber,H=S.node;for(;H!==P.node;){const p=this.t(H.piece.bufferIndex,f,H.piece.end);if(p>=1){const Z=this.a[H.piece.bufferIndex].lineStarts,K=this.u(H.piece.bufferIndex,H.piece.start),tt=Z[f.line+p],x=B===n.startLineNumber?n.startColumn:1;if(w=this.findMatchesInNode(H,L,B,x,f,this.s(H,tt-K),r,i,h,w,c),w>=h)return c;B+=p}const z=B===n.startLineNumber?n.startColumn-1:0;if(B===n.endLineNumber){const Z=this.getLineContent(B).substring(z,n.endColumn-1);return w=this.n(r,L,Z,n.endLineNumber,z,w,c,i,h),c}if(w=this.n(r,L,this.getLineContent(B).substr(z),B,z,w,c,i,h),w>=h)return c;B++,S=this.H(B,1),H=S.node,f=this.s(S.node,S.remainder)}if(B===n.endLineNumber){const p=B===n.startLineNumber?n.startColumn-1:0,z=this.getLineContent(B).substring(p,n.endColumn-1);return w=this.n(r,L,z,n.endLineNumber,p,w,c,i,h),c}const A=B===n.startLineNumber?n.startColumn:1;return w=this.findMatchesInNode(P.node,L,B,A,f,C,r,i,h,w,c),c}n(n,r,i,h,c,w,L,S,P){const f=n.wordSeparators;if(!S&&n.simpleSearch){const B=n.simpleSearch,H=B.length,A=i.length;let p=-H;for(;(p=i.indexOf(B,p+H))!==-1;)if((!f||(0,D.$5B)(f,i,A,p,H))&&(L[w++]=new F.$Ut(new M.$Mr(h,p+1+c,h,p+1+H+c),null),w>=P))return w;return w}let C;r.reset(0);do if(C=r.next(i),C&&(L[w++]=(0,D.$3B)(new M.$Mr(h,C.index+1+c,h,C.index+1+C[0].length+c),C,S),w>=P))return w;while(C);return w}insert(n,r,i=!1){if(this.f=this.f&&i,this.j.lineNumber=0,this.j.value="",this.root!==E.$RB){const{node:h,remainder:c,nodeStartOffset:w}=this.G(n),L=h.piece,S=L.bufferIndex,P=this.s(h,c);if(h.piece.bufferIndex===0&&L.end.line===this.g.line&&L.end.column===this.g.column&&w+L.length===n&&r.length<V){this.F(h,r),this.y();return}if(w===n)this.o(r,h),this.h.validate(n);else if(w+h.piece.length>n){const f=[];let C=new $(L.bufferIndex,P,L.end,this.t(L.bufferIndex,P,L.end),this.u(S,L.end)-this.u(S,P));if(this.K()&&this.M(r)&&this.I(h,c)===10){const p={line:C.start.line+1,column:0};C=new $(C.bufferIndex,p,C.end,this.t(C.bufferIndex,p,C.end),C.length-1),r+=`
`}if(this.K()&&this.L(r))if(this.I(h,c-1)===13){const p=this.s(h,c-1);this.C(h,p),r="\r"+r,h.piece.length===0&&f.push(h)}else this.C(h,P);else this.C(h,P);const B=this.w(r);C.length>0&&this.S(h,C);let H=h;for(let A=0;A<B.length;A++)H=this.S(H,B[A]);this.v(f)}else this.q(r,h)}else{const h=this.w(r);let c=this.T(null,h[0]);for(let w=1;w<h.length;w++)c=this.S(c,h[w])}this.y()}delete(n,r){if(this.j.lineNumber=0,this.j.value="",r<=0||this.root===E.$RB)return;const i=this.G(n),h=this.G(n+r),c=i.node,w=h.node;if(c===w){const B=this.s(c,i.remainder),H=this.s(c,h.remainder);if(i.nodeStartOffset===n){if(r===c.piece.length){const A=c.next();(0,E.$WB)(this,c),this.N(A),this.y();return}this.D(c,H),this.h.validate(n),this.N(c),this.y();return}if(i.nodeStartOffset+c.piece.length===n+r){this.C(c,B),this.O(c),this.y();return}this.E(c,B,H),this.y();return}const L=[],S=this.s(c,i.remainder);this.C(c,S),this.h.validate(n),c.piece.length===0&&L.push(c);const P=this.s(w,h.remainder);this.D(w,P),w.piece.length===0&&L.push(w);const f=c.next();for(let B=f;B!==E.$RB&&B!==w;B=B.next())L.push(B);const C=c.piece.length===0?c.prev():c;this.v(L),this.O(C),this.y()}o(n,r){const i=[];if(this.K()&&this.M(n)&&this.L(r)){const w=r.piece,L={line:w.start.line+1,column:0},S=new $(w.bufferIndex,L,w.end,this.t(w.bufferIndex,L,w.end),w.length-1);r.piece=S,n+=`
`,(0,E.$YB)(this,r,-1,-1),r.piece.length===0&&i.push(r)}const h=this.w(n);let c=this.T(r,h[h.length-1]);for(let w=h.length-2;w>=0;w--)c=this.T(c,h[w]);this.N(c),this.v(i)}q(n,r){this.Q(n,r)&&(n+=`
`);const i=this.w(n),h=this.S(r,i[0]);let c=h;for(let w=1;w<i.length;w++)c=this.S(c,i[w]);this.N(h)}s(n,r,i){const h=n.piece,c=n.piece.bufferIndex,w=this.a[c].lineStarts,S=w[h.start.line]+h.start.column+r;let P=h.start.line,f=h.end.line,C=0,B=0,H=0;for(;P<=f&&(C=P+(f-P)/2|0,H=w[C],C!==f);)if(B=w[C+1],S<H)f=C-1;else if(S>=B)P=C+1;else break;return i?(i.line=C,i.column=S-H,null):{line:C,column:S-H}}t(n,r,i){if(i.column===0)return i.line-r.line;const h=this.a[n].lineStarts;if(i.line===h.length-1)return i.line-r.line;const c=h[i.line+1],w=h[i.line]+i.column;if(c>w+1)return i.line-r.line;const L=w-1;return this.a[n].buffer.charCodeAt(L)===13?i.line-r.line+1:i.line-r.line}u(n,r){return this.a[n].lineStarts[r.line]+r.column}v(n){for(let r=0;r<n.length;r++)(0,E.$WB)(this,n[r])}w(n){if(n.length>V){const f=[];for(;n.length>V;){const B=n.charCodeAt(V-1);let H;B===13||B>=55296&&B<=56319?(H=n.substring(0,V-1),n=n.substring(V-1)):(H=n.substring(0,V),n=n.substring(V));const A=b(H);f.push(new $(this.a.length,{line:0,column:0},{line:A.length-1,column:H.length-A[A.length-1]},A.length-1,H.length)),this.a.push(new O(H,A))}const C=b(n);return f.push(new $(this.a.length,{line:0,column:0},{line:C.length-1,column:n.length-C[C.length-1]},C.length-1,n.length)),this.a.push(new O(n,C)),f}let r=this.a[0].buffer.length;const i=b(n,!1);let h=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===r&&r!==0&&this.L(n)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},h=this.g;for(let f=0;f<i.length;f++)i[f]+=r+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+="_"+n,r+=1}else{if(r!==0)for(let f=0;f<i.length;f++)i[f]+=r;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+=n}const c=this.a[0].buffer.length,w=this.a[0].lineStarts.length-1,L=c-this.a[0].lineStarts[w],S={line:w,column:L},P=new $(0,h,S,this.t(0,h,S),c-r);return this.g=S,[P]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(n,r=0){let i=this.root,h="";const c=this.h.get2(n);if(c){i=c.node;const w=this.B(i,n-c.nodeStartLineNumber-1),L=this.a[i.piece.bufferIndex].buffer,S=this.u(i.piece.bufferIndex,i.piece.start);if(c.nodeStartLineNumber+i.piece.lineFeedCnt===n)h=L.substring(S+w,S+i.piece.length);else{const P=this.B(i,n-c.nodeStartLineNumber);return L.substring(S+w,S+P-r)}}else{let w=0;const L=n;for(;i!==E.$RB;)if(i.left!==E.$RB&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const S=this.B(i,n-i.lf_left-2),P=this.B(i,n-i.lf_left-1),f=this.a[i.piece.bufferIndex].buffer,C=this.u(i.piece.bufferIndex,i.piece.start);return w+=i.size_left,this.h.set({node:i,nodeStartOffset:w,nodeStartLineNumber:L-(n-1-i.lf_left)}),f.substring(C+S,C+P-r)}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const S=this.B(i,n-i.lf_left-2),P=this.a[i.piece.bufferIndex].buffer,f=this.u(i.piece.bufferIndex,i.piece.start);h=P.substring(f+S,f+i.piece.length);break}else n-=i.lf_left+i.piece.lineFeedCnt,w+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==E.$RB;){const w=this.a[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const L=this.B(i,0),S=this.u(i.piece.bufferIndex,i.piece.start);return h+=w.substring(S,S+L-r),h}else{const L=this.u(i.piece.bufferIndex,i.piece.start);h+=w.substr(L,i.piece.length)}i=i.next()}return h}y(){let n=this.root,r=1,i=0;for(;n!==E.$RB;)r+=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right;this.b=r,this.c=i,this.h.validate(this.c)}A(n,r){const i=n.piece,h=this.s(n,r),c=h.line-i.start.line;if(this.u(i.bufferIndex,i.end)-this.u(i.bufferIndex,i.start)===r){const w=this.t(n.piece.bufferIndex,i.start,h);if(w!==c)return{index:w,remainder:0}}return{index:c,remainder:h.column}}B(n,r){if(r<0)return 0;const i=n.piece,h=this.a[i.bufferIndex].lineStarts,c=i.start.line+r+1;return c>i.end.line?h[i.end.line]+i.end.column-h[i.start.line]-i.start.column:h[c]-h[i.start.line]-i.start.column}C(n,r){const i=n.piece,h=i.lineFeedCnt,c=this.u(i.bufferIndex,i.end),w=r,L=this.u(i.bufferIndex,w),S=this.t(i.bufferIndex,i.start,w),P=S-h,f=L-c,C=i.length+f;n.piece=new $(i.bufferIndex,i.start,w,S,C),(0,E.$YB)(this,n,f,P)}D(n,r){const i=n.piece,h=i.lineFeedCnt,c=this.u(i.bufferIndex,i.start),w=r,L=this.t(i.bufferIndex,w,i.end),S=this.u(i.bufferIndex,w),P=L-h,f=c-S,C=i.length+f;n.piece=new $(i.bufferIndex,w,i.end,L,C),(0,E.$YB)(this,n,f,P)}E(n,r,i){const h=n.piece,c=h.start,w=h.end,L=h.length,S=h.lineFeedCnt,P=r,f=this.t(h.bufferIndex,h.start,P),C=this.u(h.bufferIndex,r)-this.u(h.bufferIndex,c);n.piece=new $(h.bufferIndex,h.start,P,f,C),(0,E.$YB)(this,n,C-L,f-S);const B=new $(h.bufferIndex,i,w,this.t(h.bufferIndex,i,w),this.u(h.bufferIndex,w)-this.u(h.bufferIndex,i)),H=this.S(n,B);this.N(H)}F(n,r){this.Q(r,n)&&(r+=`
`);const i=this.K()&&this.L(r)&&this.M(n),h=this.a[0].buffer.length;this.a[0].buffer+=r;const c=b(r,!1);for(let H=0;H<c.length;H++)c[H]+=h;if(i){const H=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:h-H}}this.a[0].lineStarts=this.a[0].lineStarts.concat(c.slice(1));const w=this.a[0].lineStarts.length-1,L=this.a[0].buffer.length-this.a[0].lineStarts[w],S={line:w,column:L},P=n.piece.length+r.length,f=n.piece.lineFeedCnt,C=this.t(0,n.piece.start,S),B=C-f;n.piece=new $(n.piece.bufferIndex,n.piece.start,S,C,P),this.g=S,(0,E.$YB)(this,n,r.length,B)}G(n){let r=this.root;const i=this.h.get(n);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:n-i.nodeStartOffset};let h=0;for(;r!==E.$RB;)if(r.size_left>n)r=r.left;else if(r.size_left+r.piece.length>=n){h+=r.size_left;const c={node:r,remainder:n-r.size_left,nodeStartOffset:h};return this.h.set(c),c}else n-=r.size_left+r.piece.length,h+=r.size_left+r.piece.length,r=r.right;return null}H(n,r){let i=this.root,h=0;for(;i!==E.$RB;)if(i.left!==E.$RB&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const c=this.B(i,n-i.lf_left-2),w=this.B(i,n-i.lf_left-1);return h+=i.size_left,{node:i,remainder:Math.min(c+r-1,w),nodeStartOffset:h}}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const c=this.B(i,n-i.lf_left-2);if(c+r-1<=i.piece.length)return{node:i,remainder:c+r-1,nodeStartOffset:h};r-=i.piece.length-c;break}else n-=i.lf_left+i.piece.lineFeedCnt,h+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==E.$RB;){if(i.piece.lineFeedCnt>0){const c=this.B(i,0),w=this.J(i);return{node:i,remainder:Math.min(r-1,c),nodeStartOffset:w}}else if(i.piece.length>=r-1){const c=this.J(i);return{node:i,remainder:r-1,nodeStartOffset:c}}else r-=i.piece.length;i=i.next()}return null}I(n,r){if(n.piece.lineFeedCnt<1)return-1;const i=this.a[n.piece.bufferIndex],h=this.u(n.piece.bufferIndex,n.piece.start)+r;return i.buffer.charCodeAt(h)}J(n){if(!n)return 0;let r=n.size_left;for(;n!==this.root;)n.parent.right===n&&(r+=n.parent.size_left+n.parent.piece.length),n=n.parent;return r}K(){return!(this.f&&this.d===`
`)}L(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===E.$RB||n.piece.lineFeedCnt===0)return!1;const r=n.piece,i=this.a[r.bufferIndex].lineStarts,h=r.start.line,c=i[h]+r.start.column;return h===i.length-1||i[h+1]>c+1?!1:this.a[r.bufferIndex].buffer.charCodeAt(c)===10}M(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===E.$RB||n.piece.lineFeedCnt===0?!1:this.I(n,n.piece.length-1)===13}N(n){if(this.K()&&this.L(n)){const r=n.prev();this.M(r)&&this.P(r,n)}}O(n){if(this.K()&&this.M(n)){const r=n.next();this.L(r)&&this.P(n,r)}}P(n,r){const i=[],h=this.a[n.piece.bufferIndex].lineStarts;let c;n.piece.end.column===0?c={line:n.piece.end.line-1,column:h[n.piece.end.line]-h[n.piece.end.line-1]-1}:c={line:n.piece.end.line,column:n.piece.end.column-1};const w=n.piece.length-1,L=n.piece.lineFeedCnt-1;n.piece=new $(n.piece.bufferIndex,n.piece.start,c,L,w),(0,E.$YB)(this,n,-1,-1),n.piece.length===0&&i.push(n);const S={line:r.piece.start.line+1,column:0},P=r.piece.length-1,f=this.t(r.piece.bufferIndex,S,r.piece.end);r.piece=new $(r.piece.bufferIndex,S,r.piece.end,f,P),(0,E.$YB)(this,r,-1,-1),r.piece.length===0&&i.push(r);const C=this.w(`\r
`);this.S(n,C[0]);for(let B=0;B<i.length;B++)(0,E.$WB)(this,i[B])}Q(n,r){if(this.K()&&this.M(n)){const i=r.next();if(this.L(i)){if(n+=`
`,i.piece.length===1)(0,E.$WB)(this,i);else{const h=i.piece,c={line:h.start.line+1,column:0},w=h.length-1,L=this.t(h.bufferIndex,c,h.end);i.piece=new $(h.bufferIndex,c,h.end,L,w),(0,E.$YB)(this,i,-1,-1)}return!0}}return!1}iterate(n,r){if(n===E.$RB)return r(E.$RB);const i=this.iterate(n.left,r);return i&&r(n)&&this.iterate(n.right,r)}R(n){if(n===E.$RB)return"";const r=this.a[n.piece.bufferIndex],i=n.piece,h=this.u(i.bufferIndex,i.start),c=this.u(i.bufferIndex,i.end);return r.buffer.substring(h,c)}getPieceContent(n){const r=this.a[n.bufferIndex],i=this.u(n.bufferIndex,n.start),h=this.u(n.bufferIndex,n.end);return r.buffer.substring(i,h)}S(n,r){const i=new E.$QB(r,1);if(i.left=E.$RB,i.right=E.$RB,i.parent=E.$RB,i.size_left=0,i.lf_left=0,this.root===E.$RB)this.root=i,i.color=0;else if(n.right===E.$RB)n.right=i,i.parent=n;else{const c=(0,E.$SB)(n.right);c.left=i,i.parent=c}return(0,E.$XB)(this,i),i}T(n,r){const i=new E.$QB(r,1);if(i.left=E.$RB,i.right=E.$RB,i.parent=E.$RB,i.size_left=0,i.lf_left=0,this.root===E.$RB)this.root=i,i.color=0;else if(n.left===E.$RB)n.left=i,i.parent=n;else{const h=(0,E.$TB)(n.left);h.right=i,i.parent=h}return(0,E.$XB)(this,i),i}U(n){let r="";return this.iterate(n,i=>(r+=this.R(i),!0)),r}}e.$$B=s}),define(rt[10],lt([0,1,5,2,3,39]),function(it,e,q,M,F,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Re=e.$Qe=e.$Pe=e.$Oe=e.$Ne=e.$Me=e.$Le=e.$Ke=e.$Je=e.$Ie=e.$He=e.$Ge=e.$Fe=e.$Ee=e.$De=e.$Ce=void 0;function D(f){return f===47||f===92}e.$Ce=D;function V(f){return f.replace(/[\\/]/g,q.$0b.sep)}e.$De=V;function I(f){return f.indexOf("/")===-1&&(f=V(f)),/^[a-zA-Z]:(\/|$)/.test(f)&&(f="/"+f),f}e.$Ee=I;function o(f,C=q.$0b.sep){if(!f)return"";const B=f.length,H=f.charCodeAt(0);if(D(H)){if(D(f.charCodeAt(1))&&!D(f.charCodeAt(2))){let p=3;const z=p;for(;p<B&&!D(f.charCodeAt(p));p++);if(z!==p&&!D(f.charCodeAt(p+1))){for(p+=1;p<B;p++)if(D(f.charCodeAt(p)))return f.slice(0,p+1).replace(/[\\/]/g,C)}}return C}else if(u(H)&&f.charCodeAt(1)===58)return D(f.charCodeAt(2))?f.slice(0,2)+C:f.slice(0,2);let A=f.indexOf("://");if(A!==-1){for(A+=3;A<B;A++)if(D(f.charCodeAt(A)))return f.slice(0,A+1)}return""}e.$Fe=o;function b(f){if(!M.$i||!f||f.length<5)return!1;let C=f.charCodeAt(0);if(C!==92||(C=f.charCodeAt(1),C!==92))return!1;let B=2;const H=B;for(;B<f.length&&(C=f.charCodeAt(B),C!==92);B++);return!(H===B||(C=f.charCodeAt(B+1),isNaN(C)||C===92))}e.$Ge=b;const R=/[\\/:\*\?"<>\|]/g,$=/[\\/]/g,O=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function m(f,C=M.$i){const B=C?R:$;return!(!f||f.length===0||/^\s+$/.test(f)||(B.lastIndex=0,B.test(f))||C&&O.test(f)||f==="."||f===".."||C&&f[f.length-1]==="."||C&&f.length!==f.trim().length||f.length>255)}e.$He=m;function a(f,C,B){const H=f===C;return!B||H?H:!f||!C?!1:(0,F.$Ld)(f,C)}e.$Ie=a;function s(f,C,B,H=q.sep){if(f===C)return!0;if(!f||!C||C.length>f.length)return!1;if(B){if(!(0,F.$Md)(f,C))return!1;if(C.length===f.length)return!0;let p=C.length;return C.charAt(C.length-1)===H&&p--,f.charAt(p)===H}return C.charAt(C.length-1)!==H&&(C+=H),f.indexOf(C)===0}e.$Je=s;function u(f){return f>=65&&f<=90||f>=97&&f<=122}e.$Ke=u;function n(f,C){return M.$i&&f.endsWith(":")&&(f+=q.sep),(0,q.$_b)(f)||(f=(0,q.$ac)(C,f)),f=(0,q.$$b)(f),M.$i?(f=(0,F.$sd)(f,q.sep),f.endsWith(":")&&(f+=q.sep)):(f=(0,F.$sd)(f,q.sep),f||(f=q.sep)),f}e.$Le=n;function r(f){const C=(0,q.$$b)(f);return M.$i?f.length>3?!1:i(C)&&(f.length===2||C.charCodeAt(2)===92):C===q.$0b.sep}e.$Me=r;function i(f,C=M.$i){return C?u(f.charCodeAt(0))&&f.charCodeAt(1)===58:!1}e.$Ne=i;function h(f,C=M.$i){return i(f,C)?f[0]:void 0}e.$Oe=h;function c(f,C,B){return C.length>f.length?-1:f===C?0:(B&&(f=f.toLowerCase(),C=C.toLowerCase()),f.indexOf(C))}e.$Pe=c;function w(f){const C=f.split(":");let B,H,A;for(const p of C){const z=Number(p);(0,E.$me)(z)?H===void 0?H=z:A===void 0&&(A=z):B=B?[B,p].join(":"):p}if(!B)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:B,line:H!==void 0?H:void 0,column:A!==void 0?A:H!==void 0?1:void 0}}e.$Qe=w;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function P(f,C,B=8){let H="";for(let p=0;p<B;p++){let z;p===0&&M.$i&&!C&&(B===3||B===4)?z=S:z=L,H+=z.charAt(Math.floor(Math.random()*z.length))}let A;return C?A=`${C}-${H}`:A=H,f?(0,q.$ac)(f,A):A}e.$Re=P}),define(rt[20],lt([0,1,5]),function(it,e,q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wr=e.$vr=e.$ur=e.$tr=e.$sr=void 0,e.$sr=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const M={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},F={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function E(b){const R=(0,q.$fc)(b),$=M[R.toLowerCase()];return $!==void 0?$:D(b)}e.$tr=E;function D(b){const R=(0,q.$fc)(b);return F[R.toLowerCase()]}e.$ur=D;function V(b){for(const R in F)if(F[R]===b)return R}e.$vr=V;const I=/^(.+)\/(.+?)(;.+)?$/;function o(b,R){const $=I.exec(b);return $?`${$[1].toLowerCase()}/${$[2].toLowerCase()}${$[3]??""}`:R?void 0:b}e.$wr=o}),define(rt[11],lt([0,1,4,2,12]),function(it,e,q,M,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$3e=e.$2e=e.$1e=e.$Ze=e.$Ye=e.$Xe=e.$We=e.$Ve=e.Schemas=void 0;var E;(function(o){o.inMemory="inmemory",o.vscode="vscode",o.internal="private",o.walkThrough="walkThrough",o.walkThroughSnippet="walkThroughSnippet",o.http="http",o.https="https",o.file="file",o.mailto="mailto",o.untitled="untitled",o.data="data",o.command="command",o.vscodeRemote="vscode-remote",o.vscodeRemoteResource="vscode-remote-resource",o.vscodeManagedRemoteResource="vscode-managed-remote-resource",o.vscodeUserData="vscode-userdata",o.vscodeCustomEditor="vscode-custom-editor",o.vscodeNotebookCell="vscode-notebook-cell",o.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",o.vscodeNotebookCellOutput="vscode-notebook-cell-output",o.vscodeInteractiveInput="vscode-interactive-input",o.vscodeSettings="vscode-settings",o.vscodeWorkspaceTrust="vscode-workspace-trust",o.vscodeTerminal="vscode-terminal",o.vscodeChatSesssion="vscode-chat-editor",o.webviewPanel="webview-panel",o.vscodeWebview="vscode-webview",o.extension="extension",o.vscodeFileResource="vscode-file",o.tmp="tmp",o.vsls="vsls",o.vscodeSourceControl="vscode-scm"})(E||(e.Schemas=E={})),e.$Ve="vscode-tkn",e.$We="tkn";class D{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${E.vscodeRemoteResource}`}setPreferredWebSchema(b){this.d=b}setDelegate(b){this.e=b}setServerRootPath(b){this.f=`${b}/${E.vscodeRemoteResource}`}set(b,R,$){this.a[b]=R,this.b[b]=$}setConnectionToken(b,R){this.c[b]=R}getPreferredWebSchema(){return this.d}rewrite(b){if(this.e)try{return this.e(b)}catch(s){return q.$Y(s),b}const R=b.authority;let $=this.a[R];$&&$.indexOf(":")!==-1&&$.indexOf("[")===-1&&($=`[${$}]`);const O=this.b[R],m=this.c[R];let a=`path=${encodeURIComponent(b.path)}`;return typeof m=="string"&&(a+=`&${e.$We}=${encodeURIComponent(m)}`),F.URI.from({scheme:M.$o?this.d:E.vscodeRemoteResource,authority:`${$}:${O}`,path:this.f,query:a})}}e.$Xe=new D,e.$Ye="vs/../../extensions",e.$Ze="vs/../../node_modules",e.$1e="vs/../../node_modules.asar",e.$2e="vs/../../node_modules.asar.unpacked";class V{static{this.a="vscode-app"}asBrowserUri(b){const R=this.b(b,it);return this.uriToBrowserUri(R)}uriToBrowserUri(b){return b.scheme===E.vscodeRemote?e.$Xe.rewrite(b):b.scheme===E.file&&(M.$m||M.$p&&M.$g.origin===`${E.vscodeFileResource}://${V.a}`)?b.with({scheme:E.vscodeFileResource,authority:b.authority||V.a,query:null,fragment:null}):b}asFileUri(b){const R=this.b(b,it);return this.uriToFileUri(R)}uriToFileUri(b){return b.scheme===E.vscodeFileResource?b.with({scheme:E.file,authority:b.authority!==V.a?b.authority:null,query:null,fragment:null}):b}b(b,R){return F.URI.isUri(b)?b:F.URI.parse(R.toUrl(b))}}e.$3e=new V;var I;(function(o){const b=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(b.get("3"));const R="vscode-coi";function $(m){let a;typeof m=="string"?a=new URL(m).searchParams:m instanceof URL?a=m.searchParams:F.URI.isUri(m)&&(a=new URL(m.toString(!0)).searchParams);const s=a?.get(R);if(s)return b.get(s)}o.getHeadersFromQuery=$;function O(m,a,s){if(!globalThis.crossOriginIsolated)return;const u=a&&s?"3":s?"2":"1";m instanceof URLSearchParams?m.set(R,u):m[R]=u}o.addSearchParam=O})(I||(e.COI=I={}))}),define(rt[21],lt([0,1,10,11,5,2,3,12]),function(it,e,q,M,F,E,D,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fg=e.DataUri=e.$eg=e.$dg=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=e.$2f=e.$1f=e.$Zf=e.$Yf=e.$Xf=e.$Wf=e.$Vf=void 0;function I(O){return(0,V.$Ue)(O,!0)}e.$Vf=I;class o{constructor(m){this.a=m}compare(m,a,s=!1){return m===a?0:(0,D.$Ed)(this.getComparisonKey(m,s),this.getComparisonKey(a,s))}isEqual(m,a,s=!1){return m===a?!0:!m||!a?!1:this.getComparisonKey(m,s)===this.getComparisonKey(a,s)}getComparisonKey(m,a=!1){return m.with({path:this.a(m)?m.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}ignorePathCasing(m){return this.a(m)}isEqualOrParent(m,a,s=!1){if(m.scheme===a.scheme){if(m.scheme===M.Schemas.file)return q.$Je(I(m),I(a),this.a(m))&&m.query===a.query&&(s||m.fragment===a.fragment);if((0,e.$ag)(m.authority,a.authority))return q.$Je(m.path,a.path,this.a(m),"/")&&m.query===a.query&&(s||m.fragment===a.fragment)}return!1}joinPath(m,...a){return V.URI.joinPath(m,...a)}basenameOrAuthority(m){return(0,e.$5f)(m)||m.authority}basename(m){return F.$0b.basename(m.path)}extname(m){return F.$0b.extname(m.path)}dirname(m){if(m.path.length===0)return m;let a;return m.scheme===M.Schemas.file?a=V.URI.file(F.$dc(I(m))).path:(a=F.$0b.dirname(m.path),m.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${m.toString})) resulted in a relative path`),a="/")),m.with({path:a})}normalizePath(m){if(!m.path.length)return m;let a;return m.scheme===M.Schemas.file?a=V.URI.file(F.$$b(I(m))).path:a=F.$0b.normalize(m.path),m.with({path:a})}relativePath(m,a){if(m.scheme!==a.scheme||!(0,e.$ag)(m.authority,a.authority))return;if(m.scheme===M.Schemas.file){const n=F.$cc(I(m),I(a));return E.$i?q.$De(n):n}let s=m.path||"/";const u=a.path||"/";if(this.a(m)){let n=0;for(const r=Math.min(s.length,u.length);n<r&&!(s.charCodeAt(n)!==u.charCodeAt(n)&&s.charAt(n).toLowerCase()!==u.charAt(n).toLowerCase());n++);s=u.substr(0,n)+s.substr(n)}return F.$0b.relative(s,u)}resolvePath(m,a){if(m.scheme===M.Schemas.file){const s=V.URI.file(F.$bc(I(m),a));return m.with({authority:s.authority,path:s.path})}return a=q.$Ee(a),m.with({path:F.$0b.resolve(m.path,a)})}isAbsolutePath(m){return!!m.path&&m.path[0]==="/"}isEqualAuthority(m,a){return m===a||m!==void 0&&a!==void 0&&(0,D.$Ld)(m,a)}hasTrailingPathSeparator(m,a=F.sep){if(m.scheme===M.Schemas.file){const s=I(m);return s.length>q.$Fe(s).length&&s[s.length-1]===a}else{const s=m.path;return s.length>1&&s.charCodeAt(s.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(m.fsPath)}}removeTrailingPathSeparator(m,a=F.sep){return(0,e.$bg)(m,a)?m.with({path:m.path.substr(0,m.path.length-1)}):m}addTrailingPathSeparator(m,a=F.sep){let s=!1;if(m.scheme===M.Schemas.file){const u=I(m);s=u!==void 0&&u.length===q.$Fe(u).length&&u[u.length-1]===a}else{a="/";const u=m.path;s=u.length===1&&u.charCodeAt(u.length-1)===47}return!s&&!(0,e.$bg)(m,a)?m.with({path:m.path+"/"}):m}}e.$Wf=o,e.$Xf=new o(()=>!1),e.$Yf=new o(O=>O.scheme===M.Schemas.file?!E.$k:!0),e.$Zf=new o(O=>!0),e.$1f=e.$Xf.isEqual.bind(e.$Xf),e.$2f=e.$Xf.isEqualOrParent.bind(e.$Xf),e.$3f=e.$Xf.getComparisonKey.bind(e.$Xf),e.$4f=e.$Xf.basenameOrAuthority.bind(e.$Xf),e.$5f=e.$Xf.basename.bind(e.$Xf),e.$6f=e.$Xf.extname.bind(e.$Xf),e.$7f=e.$Xf.dirname.bind(e.$Xf),e.$8f=e.$Xf.joinPath.bind(e.$Xf),e.$9f=e.$Xf.normalizePath.bind(e.$Xf),e.$0f=e.$Xf.relativePath.bind(e.$Xf),e.$$f=e.$Xf.resolvePath.bind(e.$Xf),e.$_f=e.$Xf.isAbsolutePath.bind(e.$Xf),e.$ag=e.$Xf.isEqualAuthority.bind(e.$Xf),e.$bg=e.$Xf.hasTrailingPathSeparator.bind(e.$Xf),e.$cg=e.$Xf.removeTrailingPathSeparator.bind(e.$Xf),e.$dg=e.$Xf.addTrailingPathSeparator.bind(e.$Xf);function b(O,m){const a=[];for(let s=0;s<O.length;s++){const u=m(O[s]);O.some((n,r)=>r===s?!1:(0,e.$2f)(u,m(n)))||a.push(O[s])}return a}e.$eg=b;var R;(function(O){O.META_DATA_LABEL="label",O.META_DATA_DESCRIPTION="description",O.META_DATA_SIZE="size",O.META_DATA_MIME="mime";function m(a){const s=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(r=>{const[i,h]=r.split(":");i&&h&&s.set(i,h)});const n=a.path.substring(0,a.path.indexOf(";"));return n&&s.set(O.META_DATA_MIME,n),s}O.parseMetaData=m})(R||(e.DataUri=R={}));function $(O,m,a){if(m){let s=O.path;return s&&s[0]!==F.$0b.sep&&(s=F.$0b.sep+s),O.with({scheme:a,authority:m,path:s})}return O.with({scheme:a})}e.$fg=$}),define(rt[22],lt([0,1,40,4,23,7,21,2,15]),function(it,e,q,M,F,E,D,V,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Qg=e.$Pg=e.$Og=e.Promises=e.$Ng=e.$Mg=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$wg=e.$vg=e.$ug=e.$tg=e.$sg=e.$rg=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=e.$gg=void 0;function o(d){return!!d&&typeof d.then=="function"}e.$gg=o;function b(d){const t=new q.$dd,l=d(t.token),g=new Promise((v,W)=>{const X=t.token.onCancellationRequested(()=>{X.dispose(),t.dispose(),W(new M.$3)});Promise.resolve(l).then(J=>{X.dispose(),t.dispose(),v(J)},J=>{X.dispose(),t.dispose(),W(J)})});return new class{cancel(){t.cancel()}then(v,W){return g.then(v,W)}catch(v){return this.then(void 0,v)}finally(v){return g.finally(v)}}}e.$hg=b;function R(d,t,l){return new Promise((g,v)=>{const W=t.onCancellationRequested(()=>{W.dispose(),g(l)});d.then(g,v).finally(()=>W.dispose())})}e.$ig=R;function $(d,t){return new Promise((l,g)=>{const v=t.onCancellationRequested(()=>{v.dispose(),g(new M.$3)});d.then(l,g).finally(()=>v.dispose())})}e.$jg=$;async function O(d){let t=-1;const l=d.map((g,v)=>g.then(W=>(t=v,W)));try{return await Promise.race(l)}finally{d.forEach((g,v)=>{v!==t&&g.cancel()})}}e.$kg=O;function m(d,t,l){let g;const v=setTimeout(()=>{g?.(void 0),l?.()},t);return Promise.race([d.finally(()=>clearTimeout(v)),new Promise(W=>g=W)])}e.$lg=m;function a(d){return new Promise((t,l)=>{const g=d();o(g)?g.then(t,l):t(g)})}e.$mg=a;class s{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(t){if(this.f)throw new Error("Throttler is disposed");if(this.a){if(this.d=t,!this.b){const l=()=>{if(this.b=null,this.f)return;const g=this.queue(this.d);return this.d=null,g};this.b=new Promise(g=>{this.a.then(l,l).then(g)})}return new Promise((l,g)=>{this.b.then(l,g)})}return this.a=t(),new Promise((l,g)=>{this.a.then(v=>{this.a=null,l(v)},v=>{this.a=null,g(v)})})}dispose(){this.f=!0}}e.$ng=s;class u{constructor(){this.a=Promise.resolve(null)}queue(t){return this.a=this.a.then(()=>t(),()=>t())}}e.$og=u;class n{constructor(){this.a=new Map}queue(t,l){const v=(this.a.get(t)??Promise.resolve()).catch(()=>{}).then(l).finally(()=>{this.a.get(t)===v&&this.a.delete(t)});return this.a.set(t,v),v}}e.$pg=n;const r=(d,t)=>{let l=!0;const g=setTimeout(()=>{l=!1,t()},d);return{isTriggered:()=>l,dispose:()=>{clearTimeout(g),l=!1}}},i=d=>{let t=!0;return queueMicrotask(()=>{t&&(t=!1,d())}),{isTriggered:()=>t,dispose:()=>{t=!1}}};class h{constructor(t){this.defaultDelay=t,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(t,l=this.defaultDelay){this.g=t,this.h(),this.b||(this.b=new Promise((v,W)=>{this.d=v,this.f=W}).then(()=>{if(this.b=null,this.d=null,this.g){const v=this.g;return this.g=null,v()}}));const g=()=>{this.a=null,this.d?.(null)};return this.a=l===I.$4c?i(g):r(l,g),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new M.$3),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$qg=h;class c{constructor(t){this.a=new h(t),this.b=new s}trigger(t,l){return this.a.trigger(()=>this.b.queue(t),l)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$rg=c;class w{constructor(){this.a=!1,this.b=new Promise((t,l)=>{this.d=t})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$sg=w;class L extends w{constructor(t){super(),this.f=setTimeout(()=>this.open(),t)}open(){clearTimeout(this.f),super.open()}}e.$tg=L;function S(d,t){return t?new Promise((l,g)=>{const v=setTimeout(()=>{W.dispose(),l()},d),W=t.onCancellationRequested(()=>{clearTimeout(v),W.dispose(),g(new M.$3)})}):b(l=>S(d,l))}e.$ug=S;function P(d,t=0){const l=setTimeout(d,t);return(0,E.$jb)(()=>clearTimeout(l))}e.$vg=P;function f(d){const t=[];let l=0;const g=d.length;function v(){return l<g?d[l++]():null}function W(X){X!=null&&t.push(X);const J=v();return J?J.then(W):Promise.resolve(t)}return Promise.resolve(null).then(W)}e.$wg=f;function C(d,t=g=>!!g,l=null){let g=0;const v=d.length,W=()=>{if(g>=v)return Promise.resolve(l);const X=d[g++];return Promise.resolve(X()).then(st=>t(st)?Promise.resolve(st):W())};return W()}e.$xg=C;function B(d,t=g=>!!g,l=null){if(d.length===0)return Promise.resolve(l);let g=d.length;const v=()=>{g=-1;for(const W of d)W.cancel?.()};return new Promise((W,X)=>{for(const J of d)J.then(st=>{--g>=0&&t(st)?(v(),W(st)):g===0&&W(l)}).catch(st=>{--g>=0&&(v(),X(st))})})}e.$yg=B;class H{constructor(t){this.a=0,this.d=t,this.f=[],this.b=0,this.g=new F.$7c}get onDrained(){return this.g.event}get size(){return this.a}queue(t){return this.a++,new Promise((l,g)=>{this.f.push({factory:t,c:l,e:g}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const t=this.f.shift();this.b++;const l=t.factory();l.then(t.c,t.e),l.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}e.$zg=H;class A extends H{constructor(){super(1)}}e.$Ag=A;class p{constructor(){this.a=new Map,this.b=new Set}async whenDrained(){if(this.d())return;const t=new k;return this.b.add(t),t.p}d(){for(const[,t]of this.a)if(t.size>0)return!1;return!0}queueFor(t,l=D.$Xf){const g=l.getComparisonKey(t);let v=this.a.get(g);return v||(v=new A,F.Event.once(v.onDrained)(()=>{v?.dispose(),this.a.delete(g),this.f()}),this.a.set(g,v)),v}f(){this.d()&&this.g()}g(){for(const t of this.b)t.complete();this.b.clear()}dispose(){for(const[,t]of this.a)t.dispose();this.a.clear(),this.g()}}e.$Bg=p;class z{constructor(t,l){this.a=-1,typeof t=="function"&&typeof l=="number"&&this.setIfNotSet(t,l)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(t,l){this.cancel(),this.a=setTimeout(()=>{this.a=-1,t()},l)}setIfNotSet(t,l){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,t()},l))}}e.$Cg=z;class Z{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(t,l){this.cancel(),this.a=setInterval(()=>{t()},l)}}e.$Dg=Z;class K{constructor(t,l){this.b=-1,this.a=t,this.d=l,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(t=this.d){this.cancel(),this.b=setTimeout(this.f,t)}get delay(){return this.d}set delay(t){this.d=t}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Eg=K;class tt{constructor(t,l){l%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${l}ms is not a multiple of 1000ms.`),this.a=t,this.b=l,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(t=this.b){t%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${t}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(t/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Fg=tt;class x extends K{constructor(t,l){super(t,l),this.j=[]}work(t){this.j.push(t),this.isScheduled()||this.schedule()}h(){const t=this.j;this.j=[],this.a?.(t)}dispose(){this.j=[],super.dispose()}}e.$Gg=x;class _ extends E.$lb{constructor(t,l){super(),this.g=t,this.h=l,this.a=[],this.b=this.B(new E.$mb),this.f=!1}get pending(){return this.a.length}work(t){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+t.length>this.g.maxBufferedWork)return!1}else if(this.pending+t.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const l of t)this.a.push(l);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new K(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Hg=_,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.$Ig=d=>{(0,V.$A)(()=>{if(t)return;const l=Date.now()+15;d(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,l-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:e.$Ig=(d,t)=>{const l=requestIdleCallback(d,typeof t=="number"?{timeout:t}:void 0);let g=!1;return{dispose(){g||(g=!0,cancelIdleCallback(l))}}}}();class y{constructor(t){this.d=!1,this.a=()=>{try{this.f=t()}catch(l){this.g=l}finally{this.d=!0}},this.b=(0,e.$Ig)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}e.$Jg=y;async function Y(d,t,l){let g;for(let v=0;v<l;v++)try{return await d()}catch(W){g=W,await S(t)}throw g}e.$Kg=Y;class nt{hasPending(t){return this.a?typeof t=="number"?this.a.taskId===t:!!this.a:!1}get pending(){return this.a?.promise}cancelPending(){this.a?.cancel()}setPending(t,l,g){return this.a={taskId:t,cancel:()=>g?.(),promise:l},l.then(()=>this.d(t),()=>this.d(t)),l}d(t){this.a&&t===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const t=this.b;this.b=void 0,t.run().then(t.promiseResolve,t.promiseReject)}}setNext(t){if(this.b)this.b.run=t;else{let l,g;const v=new Promise((W,X)=>{l=W,g=X});this.b={run:t,promise:v,promiseResolve:l,promiseReject:g}}return this.b.promise}hasNext(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$Lg=nt;class N{constructor(t,l=()=>Date.now()){this.d=t,this.f=l,this.a=0,this.b=0}increment(){const t=this.f();return t-this.a>this.d&&(this.a=t,this.b=0),this.b++,this.b}}e.$Mg=N;var j;(function(d){d[d.Resolved=0]="Resolved",d[d.Rejected=1]="Rejected"})(j||(j={}));class k{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((t,l)=>{this.a=t,this.b=l})}complete(t){return new Promise(l=>{this.a(t),this.d={outcome:0,value:t},l()})}error(t){return new Promise(l=>{this.b(t),this.d={outcome:1,value:t},l()})}cancel(){return this.error(new M.$3)}}e.$Ng=k;var T;(function(d){async function t(g){let v;const W=await Promise.all(g.map(X=>X.then(J=>J,J=>{v||(v=J)})));if(typeof v<"u")throw v;return W}d.settled=t;function l(g){return new Promise(async(v,W)=>{try{await g(v,W)}catch(X){W(X)}})}d.withAsyncBody=l})(T||(e.Promises=T={}));var G;(function(d){d[d.Initial=0]="Initial",d[d.DoneOK=1]="DoneOK",d[d.DoneError=2]="DoneError"})(G||(G={}));class Q{static fromArray(t){return new Q(l=>{l.emitMany(t)})}static fromPromise(t){return new Q(async l=>{l.emitMany(await t)})}static fromPromises(t){return new Q(async l=>{await Promise.all(t.map(async g=>l.emitOne(await g)))})}static merge(t){return new Q(async l=>{await Promise.all(t.map(async g=>{for await(const v of g)l.emitOne(v)}))})}static{this.EMPTY=Q.fromArray([])}constructor(t){this.a=0,this.b=[],this.d=null,this.f=new F.$7c,queueMicrotask(async()=>{const l={emitOne:g=>this.g(g),emitMany:g=>this.h(g),reject:g=>this.k(g)};try{await Promise.resolve(t(l)),this.j()}catch(g){this.k(g)}finally{l.emitOne=void 0,l.emitMany=void 0,l.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(t<this.b.length)return{done:!1,value:this.b[t++]};if(this.a===1)return{done:!0,value:void 0};await F.Event.toPromise(this.f.event)}while(!0)}}}static map(t,l){return new Q(async g=>{for await(const v of t)g.emitOne(l(v))})}map(t){return Q.map(this,t)}static filter(t,l){return new Q(async g=>{for await(const v of t)l(v)&&g.emitOne(v)})}filter(t){return Q.filter(this,t)}static coalesce(t){return Q.filter(t,l=>!!l)}coalesce(){return Q.coalesce(this)}static async toPromise(t){const l=[];for await(const g of t)l.push(g);return l}toPromise(){return Q.toPromise(this)}g(t){this.a===0&&(this.b.push(t),this.f.fire())}h(t){this.a===0&&(this.b=this.b.concat(t),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(t){this.a===0&&(this.a=2,this.d=t,this.f.fire())}}e.$Og=Q;class et extends Q{constructor(t,l){super(l),this.l=t}cancel(){this.l.cancel()}}e.$Pg=et;function U(d){const t=new q.$dd,l=d(t.token);return new et(t,async g=>{const v=t.token.onCancellationRequested(()=>{v.dispose(),t.dispose(),g.reject(new M.$3)});try{for await(const W of l){if(t.token.isCancellationRequested)return;g.emitOne(W)}v.dispose(),t.dispose()}catch(W){v.dispose(),t.dispose(),g.reject(W)}})}e.$Qg=U}),define(rt[24],lt([0,1,41,22,10,13,5,2,3]),function(it,e,q,M,F,E,D,V,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$gj=e.$fj=e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.$$i=e.$0i=void 0;function o(){return Object.create(null)}e.$0i=o,e.$$i="**",e.$_i="/";const b="[/\\\\]",R="[^/\\\\]",$=/\//g;function O(N,j){switch(N){case 0:return"";case 1:return`${R}*?`;default:return`(?:${b}|${R}+${b}${j?`|${b}${R}+`:""})*?`}}function m(N,j){if(!N)return[];const k=[];let T=!1,G=!1,Q="";for(const et of N){switch(et){case j:if(!T&&!G){k.push(Q),Q="";continue}break;case"{":T=!0;break;case"}":T=!1;break;case"[":G=!0;break;case"]":G=!1;break}Q+=et}return Q&&k.push(Q),k}e.$aj=m;function a(N){if(!N)return"";let j="";const k=m(N,e.$_i);if(k.every(T=>T===e.$$i))j=".*";else{let T=!1;k.forEach((G,Q)=>{if(G===e.$$i){if(T)return;j+=O(2,Q===k.length-1)}else{let et=!1,U="",d=!1,t="";for(const l of G){if(l!=="}"&&et){U+=l;continue}if(d&&(l!=="]"||!t)){let g;l==="-"?g=l:(l==="^"||l==="!")&&!t?g="^":l===e.$_i?g="":g=(0,I.$nd)(l),t+=g;continue}switch(l){case"{":et=!0;continue;case"[":d=!0;continue;case"}":{const v=`(?:${m(U,",").map(W=>a(W)).join("|")})`;j+=v,et=!1,U="";break}case"]":{j+="["+t+"]",d=!1,t="";break}case"?":j+=R;continue;case"*":j+=O(1);continue;default:j+=(0,I.$nd)(l)}}Q<k.length-1&&(k[Q+1]!==e.$$i||Q+2<k.length)&&(j+=b)}T=G===e.$$i})}return j}const s=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,r=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,i=/^\*\*((\/[\w\.-]+)+)\/?$/,h=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,c=new E.$oi(1e4),w=function(){return!1},L=function(){return null};function S(N,j){if(!N)return L;let k;typeof N!="string"?k=N.pattern:k=N,k=k.trim();const T=`${k}_${!!j.trimForExclusions}`;let G=c.get(T);if(G)return P(G,N);let Q;return s.test(k)?G=C(k.substr(4),k):(Q=u.exec(f(k,j)))?G=B(Q[1],k):(j.trimForExclusions?r:n).test(k)?G=H(k,j):(Q=i.exec(f(k,j)))?G=A(Q[1].substr(1),k,!0):(Q=h.exec(f(k,j)))?G=A(Q[1],k,!1):G=p(k),c.set(T,G),P(G,N)}function P(N,j){if(typeof j=="string")return N;const k=function(T,G){return(0,F.$Je)(T,j.base,!V.$k)?N((0,I.$rd)(T.substr(j.base.length),D.sep),G):null};return k.allBasenames=N.allBasenames,k.allPaths=N.allPaths,k.basenames=N.basenames,k.patterns=N.patterns,k}function f(N,j){return j.trimForExclusions&&N.endsWith("/**")?N.substr(0,N.length-2):N}function C(N,j){return function(k,T){return typeof k=="string"&&k.endsWith(N)?j:null}}function B(N,j){const k=`/${N}`,T=`\\${N}`,G=function(et,U){return typeof et!="string"?null:U?U===N?j:null:et===N||et.endsWith(k)||et.endsWith(T)?j:null},Q=[N];return G.basenames=Q,G.patterns=[j],G.allBasenames=Q,G}function H(N,j){const k=Y(N.slice(1,-1).split(",").map(U=>S(U,j)).filter(U=>U!==L),N),T=k.length;if(!T)return L;if(T===1)return k[0];const G=function(U,d){for(let t=0,l=k.length;t<l;t++)if(k[t](U,d))return N;return null},Q=k.find(U=>!!U.allBasenames);Q&&(G.allBasenames=Q.allBasenames);const et=k.reduce((U,d)=>d.allPaths?U.concat(d.allPaths):U,[]);return et.length&&(G.allPaths=et),G}function A(N,j,k){const T=D.sep===D.$0b.sep,G=T?N:N.replace($,D.sep),Q=D.sep+G,et=D.$0b.sep+N;let U;return k?U=function(d,t){return typeof d=="string"&&(d===G||d.endsWith(Q)||!T&&(d===N||d.endsWith(et)))?j:null}:U=function(d,t){return typeof d=="string"&&(d===G||!T&&d===N)?j:null},U.allPaths=[(k?"*/":"./")+N],U}function p(N){try{const j=new RegExp(`^${a(N)}$`);return function(k){return j.lastIndex=0,typeof k=="string"&&j.test(k)?N:null}}catch{return L}}function z(N,j,k){return!N||typeof j!="string"?!1:Z(N)(j,void 0,k)}e.$bj=z;function Z(N,j={}){if(!N)return w;if(typeof N=="string"||K(N)){const k=S(N,j);if(k===L)return w;const T=function(G,Q){return!!k(G,Q)};return k.allBasenames&&(T.allBasenames=k.allBasenames),k.allPaths&&(T.allPaths=k.allPaths),T}return _(N,j)}e.$cj=Z;function K(N){const j=N;return j?typeof j.base=="string"&&typeof j.pattern=="string":!1}e.$dj=K;function tt(N){return N.allBasenames||[]}e.$ej=tt;function x(N){return N.allPaths||[]}e.$fj=x;function _(N,j){const k=Y(Object.getOwnPropertyNames(N).map(U=>y(U,N[U],j)).filter(U=>U!==L)),T=k.length;if(!T)return L;if(!k.some(U=>!!U.requiresSiblings)){if(T===1)return k[0];const U=function(l,g){let v;for(let W=0,X=k.length;W<X;W++){const J=k[W](l,g);if(typeof J=="string")return J;(0,M.$gg)(J)&&(v||(v=[]),v.push(J))}return v?(async()=>{for(const W of v){const X=await W;if(typeof X=="string")return X}return null})():null},d=k.find(l=>!!l.allBasenames);d&&(U.allBasenames=d.allBasenames);const t=k.reduce((l,g)=>g.allPaths?l.concat(g.allPaths):l,[]);return t.length&&(U.allPaths=t),U}const G=function(U,d,t){let l,g;for(let v=0,W=k.length;v<W;v++){const X=k[v];X.requiresSiblings&&t&&(d||(d=(0,D.$ec)(U)),l||(l=d.substr(0,d.length-(0,D.$fc)(U).length)));const J=X(U,d,l,t);if(typeof J=="string")return J;(0,M.$gg)(J)&&(g||(g=[]),g.push(J))}return g?(async()=>{for(const v of g){const W=await v;if(typeof W=="string")return W}return null})():null},Q=k.find(U=>!!U.allBasenames);Q&&(G.allBasenames=Q.allBasenames);const et=k.reduce((U,d)=>d.allPaths?U.concat(d.allPaths):U,[]);return et.length&&(G.allPaths=et),G}function y(N,j,k){if(j===!1)return L;const T=S(N,k);if(T===L)return L;if(typeof j=="boolean")return T;if(j){const G=j.when;if(typeof G=="string"){const Q=(et,U,d,t)=>{if(!t||!T(et,U))return null;const l=G.replace("$(basename)",()=>d),g=t(l);return(0,M.$gg)(g)?g.then(v=>v?N:null):g?N:null};return Q.requiresSiblings=!0,Q}}return T}function Y(N,j){const k=N.filter(U=>!!U.basenames);if(k.length<2)return N;const T=k.reduce((U,d)=>{const t=d.basenames;return t?U.concat(t):U},[]);let G;if(j){G=[];for(let U=0,d=T.length;U<d;U++)G.push(j)}else G=k.reduce((U,d)=>{const t=d.patterns;return t?U.concat(t):U},[]);const Q=function(U,d){if(typeof U!="string")return null;if(!d){let l;for(l=U.length;l>0;l--){const g=U.charCodeAt(l-1);if(g===47||g===92)break}d=U.substr(l)}const t=T.indexOf(d);return t!==-1?G[t]:null};Q.basenames=T,Q.patterns=G,Q.allBasenames=T;const et=N.filter(U=>!U.basenames);return et.push(Q),et}function nt(N,j){return(0,q.$af)(N,j,(k,T)=>typeof k=="string"&&typeof T=="string"?k===T:typeof k!="string"&&typeof T!="string"?k.base===T.base&&k.pattern===T.pattern:!1)}e.$gj=nt}),define(rt[25],lt([0,1,3,2,6]),function(it,e,q,M,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xr=e.$Wr=e.$Vr=void 0;let E;function D(){return E||(E=new TextDecoder("UTF-16LE")),E}let V;function I(){return V||(V=new TextDecoder("UTF-16BE")),V}let o;function b(){return o||(o=M.$C()?D():I()),o}e.$Vr=b;function R(m,a,s){const u=new Uint16Array(m.buffer,a,s);return s>0&&(u[0]===65279||u[0]===65534)?$(m,a,s):D().decode(u)}e.$Wr=R;function $(m,a,s){const u=[];let n=0;for(let r=0;r<s;r++){const i=F.$Lb(m,a);a+=2,u[n++]=String.fromCharCode(i)}return u.join("")}class O{constructor(a){this.a=a|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const a=new Uint16Array(this.b.buffer,0,this.d);return b().decode(a)}f(){const a=this.e();this.d=0,this.c===null?this.c=[a]:this.c[this.c.length]=a}appendCharCode(a){const s=this.a-this.d;s<=1&&(s===0||q.$Pd(a))&&this.f(),this.b[this.d++]=a}appendASCIICharCode(a){this.d===this.a&&this.f(),this.b[this.d++]=a}appendString(a){const s=a.length;if(this.d+s>=this.a){this.f(),this.c[this.c.length]=a;return}for(let u=0;u<s;u++)this.b[this.d++]=a.charCodeAt(u)}}e.$Xr=O}),define(rt[26],lt([0,1,6,25]),function(it,e,q,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zr=e.$Yr=void 0;function F(I){return I.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class E{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(o,b,R,$){this.oldPosition=o,this.oldText=b,this.newPosition=R,this.newText=$}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${F(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${F(this.oldText)}")`:`(replace@${this.oldPosition} "${F(this.oldText)}" with "${F(this.newText)}")`}static a(o){return 4+2*o.length}static c(o,b,R){const $=b.length;q.$Ob(o,$,R),R+=4;for(let O=0;O<$;O++)q.$Mb(o,b.charCodeAt(O),R),R+=2;return R}static d(o,b){const R=q.$Nb(o,b);return b+=4,(0,M.$Wr)(o,b,R)}writeSize(){return 4+4+E.a(this.oldText)+E.a(this.newText)}write(o,b){return q.$Ob(o,this.oldPosition,b),b+=4,q.$Ob(o,this.newPosition,b),b+=4,b=E.c(o,this.oldText,b),b=E.c(o,this.newText,b),b}static read(o,b,R){const $=q.$Nb(o,b);b+=4;const O=q.$Nb(o,b);b+=4;const m=E.d(o,b);b+=E.a(m);const a=E.d(o,b);return b+=E.a(a),R.push(new E($,m,O,a)),b}}e.$Yr=E;function D(I,o){return I===null||I.length===0?o:new V(I,o).compress()}e.$Zr=D;class V{constructor(o,b){this.a=o,this.c=b,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let o=0,b=0,R=this.n(o),$=this.l(b);for(;o<this.f||b<this.h;){if(R===null){this.k($),$=this.l(++b);continue}if($===null){this.m(R),R=this.n(++o);continue}if($.oldEnd<=R.newPosition){this.k($),$=this.l(++b);continue}if(R.newEnd<=$.oldPosition){this.m(R),R=this.n(++o);continue}if($.oldPosition<R.newPosition){const[u,n]=V.r($,R.newPosition-$.oldPosition);this.k(u),$=n;continue}if(R.newPosition<$.oldPosition){const[u,n]=V.q(R,$.oldPosition-R.newPosition);this.m(u),R=n;continue}let a,s;if($.oldEnd===R.newEnd)a=R,s=$,R=this.n(++o),$=this.l(++b);else if($.oldEnd<R.newEnd){const[u,n]=V.q(R,$.oldLength);a=u,s=$,R=n,$=this.l(++b)}else{const[u,n]=V.r($,R.newLength);a=R,s=u,R=this.n(++o),$=n}this.d[this.e++]=new E(a.oldPosition,a.oldText,s.newPosition,s.newText),this.g+=a.newLength-a.oldLength,this.j+=s.newLength-s.oldLength}const O=V.s(this.d);return V.t(O)}k(o){this.d[this.e++]=V.o(this.g,o),this.j+=o.newLength-o.oldLength}l(o){return o<this.h?this.c[o]:null}m(o){this.d[this.e++]=V.p(this.j,o),this.g+=o.newLength-o.oldLength}n(o){return o<this.f?this.a[o]:null}static o(o,b){return new E(b.oldPosition-o,b.oldText,b.newPosition,b.newText)}static p(o,b){return new E(b.oldPosition,b.oldText,b.newPosition+o,b.newText)}static q(o,b){const R=o.newText.substr(0,b),$=o.newText.substr(b);return[new E(o.oldPosition,o.oldText,o.newPosition,R),new E(o.oldEnd,"",o.newPosition+b,$)]}static r(o,b){const R=o.oldText.substr(0,b),$=o.oldText.substr(b);return[new E(o.oldPosition,R,o.newPosition,o.newText),new E(o.oldPosition+b,$,o.newEnd,"")]}static s(o){if(o.length===0)return o;const b=[];let R=0,$=o[0];for(let O=1;O<o.length;O++){const m=o[O];$.oldEnd===m.oldPosition?$=new E($.oldPosition,$.oldText+m.oldText,$.newPosition,$.newText+m.newText):(b[R++]=$,$=m)}return b[R++]=$,b}static t(o){if(o.length===0)return o;const b=[];let R=0;for(let $=0;$<o.length;$++){const O=o[$];O.oldText!==O.newText&&(b[R++]=O)}return b}}}),define(rt[27],lt([0,1,23,3,9,18,8,16,26,7]),function(it,e,q,M,F,E,D,V,I,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_B=void 0;class b extends o.$lb{constructor($,O,m,a,s,u,n){super(),this.k=this.B(new q.$7c),this.onDidChangeContent=this.k.event,this.f=O,this.j=!u,this.g=a,this.h=s,this.c=new D.$$B($,m,n)}equals($){return!($ instanceof b)||this.f!==$.f||this.getEOL()!==$.getEOL()?!1:this.c.equal($.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot($){return this.c.createSnapshot($?this.f:"")}getOffsetAt($,O){return this.c.getOffsetAt($,O)}getPositionAt($){return this.c.getPositionAt($)}getRangeAt($,O){const m=$+O,a=this.getPositionAt($),s=this.getPositionAt(m);return new F.$Mr(a.lineNumber,a.column,s.lineNumber,s.column)}getValueInRange($,O=0){if($.isEmpty())return"";const m=this.l(O);return this.c.getValueInRange($,m)}getValueLengthInRange($,O=0){if($.isEmpty())return 0;if($.startLineNumber===$.endLineNumber)return $.endColumn-$.startColumn;const m=this.getOffsetAt($.startLineNumber,$.startColumn),a=this.getOffsetAt($.endLineNumber,$.endColumn);let s=0;const u=this.l(O),n=this.getEOL();if(u.length!==n.length){const r=u.length-n.length,i=$.endLineNumber-$.startLineNumber;s=r*i}return a-m+s}getCharacterCountInRange($,O=0){if(this.j){let m=0;const a=$.startLineNumber,s=$.endLineNumber;for(let u=a;u<=s;u++){const n=this.getLineContent(u),r=u===a?$.startColumn-1:0,i=u===s?$.endColumn-1:n.length;for(let h=r;h<i;h++)M.$Pd(n.charCodeAt(h))?(m=m+1,h=h+1):m=m+1}return m+=this.l(O).length*(s-a),m}return this.getValueLengthInRange($,O)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent($){return this.c.getLineContent($)}getLineCharCode($,O){return this.c.getLineCharCode($,O)}getCharCode($){return this.c.getCharCode($)}getLineLength($){return this.c.getLineLength($)}getLineMinColumn($){return 1}getLineMaxColumn($){return this.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){const O=M.$Ad(this.getLineContent($));return O===-1?0:O+1}getLineLastNonWhitespaceColumn($){const O=M.$Cd(this.getLineContent($));return O===-1?0:O+2}l($){switch($){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL($){this.c.setEOL($)}applyEdits($,O,m){let a=this.g,s=this.h,u=this.j,n=!0,r=[];for(let P=0;P<$.length;P++){const f=$[P];n&&f._isTracked&&(n=!1);const C=f.range;if(f.text){let z=!0;u||(z=!M.$1d(f.text),u=z),!a&&z&&(a=M.$Zd(f.text)),!s&&z&&(s=M.$3d(f.text))}let B="",H=0,A=0,p=0;if(f.text){let z;[H,A,p,z]=(0,V.$ds)(f.text);const Z=this.getEOL();z===0||z===(Z===`\r
`?2:1)?B=f.text:B=f.text.replace(/\r\n|\r|\n/g,Z)}r[P]={sortIndex:P,identifier:f.identifier||null,range:C,rangeOffset:this.getOffsetAt(C.startLineNumber,C.startColumn),rangeLength:this.getValueLengthInRange(C),text:B,eolCount:H,firstLineLength:A,lastLineLength:p,forceMoveMarkers:!!f.forceMoveMarkers,isAutoWhitespaceEdit:f.isAutoWhitespaceEdit||!1}}r.sort(b.p);let i=!1;for(let P=0,f=r.length-1;P<f;P++){const C=r[P].range.getEndPosition(),B=r[P+1].range.getStartPosition();if(B.isBeforeOrEqual(C)){if(B.isBefore(C))throw new Error("Overlapping ranges are not allowed!");i=!0}}n&&(r=this.m(r));const h=m||O?b._getInverseEditRanges(r):[],c=[];if(O)for(let P=0;P<r.length;P++){const f=r[P],C=h[P];if(f.isAutoWhitespaceEdit&&f.range.isEmpty())for(let B=C.startLineNumber;B<=C.endLineNumber;B++){let H="";B===C.startLineNumber&&(H=this.getLineContent(f.range.startLineNumber),M.$Ad(H)!==-1)||c.push({lineNumber:B,oldContent:H})}}let w=null;if(m){let P=0;w=[];for(let f=0;f<r.length;f++){const C=r[f],B=h[f],H=this.getValueInRange(C.range),A=C.rangeOffset+P;P+=C.text.length-H.length,w[f]={sortIndex:C.sortIndex,identifier:C.identifier,range:B,text:H,textChange:new I.$Yr(C.rangeOffset,H,A,C.text)}}i||w.sort((f,C)=>f.sortIndex-C.sortIndex)}this.g=a,this.h=s,this.j=u;const L=this.n(r);let S=null;if(O&&c.length>0){c.sort((P,f)=>f.lineNumber-P.lineNumber),S=[];for(let P=0,f=c.length;P<f;P++){const C=c[P].lineNumber;if(P>0&&c[P-1].lineNumber===C)continue;const B=c[P].oldContent,H=this.getLineContent(C);H.length===0||H===B||M.$Ad(H)!==-1||S.push(C)}}return this.k.fire(),new E.$Yt(w,L,S)}m($){return $.length<1e3?$:[this._toSingleEditOperation($)]}_toSingleEditOperation($){let O=!1;const m=$[0].range,a=$[$.length-1].range,s=new F.$Mr(m.startLineNumber,m.startColumn,a.endLineNumber,a.endColumn);let u=m.startLineNumber,n=m.startColumn;const r=[];for(let L=0,S=$.length;L<S;L++){const P=$[L],f=P.range;O=O||P.forceMoveMarkers,r.push(this.getValueInRange(new F.$Mr(u,n,f.startLineNumber,f.startColumn))),P.text.length>0&&r.push(P.text),u=f.endLineNumber,n=f.endColumn}const i=r.join(""),[h,c,w]=(0,V.$ds)(i);return{sortIndex:0,identifier:$[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:i,eolCount:h,firstLineLength:c,lastLineLength:w,forceMoveMarkers:O,isAutoWhitespaceEdit:!1}}n($){$.sort(b.s);const O=[];for(let m=0;m<$.length;m++){const a=$[m],s=a.range.startLineNumber,u=a.range.startColumn,n=a.range.endLineNumber,r=a.range.endColumn;if(s===n&&u===r&&a.text.length===0)continue;a.text?(this.c.delete(a.rangeOffset,a.rangeLength),this.c.insert(a.rangeOffset,a.text,!0)):this.c.delete(a.rangeOffset,a.rangeLength);const i=new F.$Mr(s,u,n,r);O.push({range:i,rangeLength:a.rangeLength,text:a.text,rangeOffset:a.rangeOffset,forceMoveMarkers:a.forceMoveMarkers})}return O}findMatchesLineByLine($,O,m,a){return this.c.findMatchesLineByLine($,O,m,a)}getPieceTree(){return this.c}static _getInverseEditRange($,O){const m=$.startLineNumber,a=$.startColumn,[s,u,n]=(0,V.$ds)(O);let r;if(O.length>0){const i=s+1;i===1?r=new F.$Mr(m,a,m,a+u):r=new F.$Mr(m,a,m+i-1,n+1)}else r=new F.$Mr(m,a,m,a);return r}static _getInverseEditRanges($){const O=[];let m=0,a=0,s=null;for(let u=0,n=$.length;u<n;u++){const r=$[u];let i,h;s?s.range.endLineNumber===r.range.startLineNumber?(i=m,h=a+(r.range.startColumn-s.range.endColumn)):(i=m+(r.range.startLineNumber-s.range.endLineNumber),h=r.range.startColumn):(i=r.range.startLineNumber,h=r.range.startColumn);let c;if(r.text.length>0){const w=r.eolCount+1;w===1?c=new F.$Mr(i,h,i,h+r.firstLineLength):c=new F.$Mr(i,h,i+w-1,r.lastLineLength+1)}else c=new F.$Mr(i,h,i,h);m=c.endLineNumber,a=c.endColumn,O.push(c),s=r}return O}static p($,O){const m=F.$Mr.compareRangesUsingEnds($.range,O.range);return m===0?$.sortIndex-O.sortIndex:m}static s($,O){const m=F.$Mr.compareRangesUsingEnds($.range,O.range);return m===0?O.sortIndex-$.sortIndex:-m}}e.$_B=b}),define(rt[28],lt([0,1,3,8,27]),function(it,e,q,M,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$aC=void 0;class E{constructor(I,o,b,R,$,O,m,a,s){this.a=I,this.b=o,this.c=b,this.d=R,this.e=$,this.f=O,this.g=m,this.h=a,this.j=s}k(I){const o=this.c+this.d+this.e,b=this.c+this.e;return o===0?I===1?`
`:`\r
`:b>o/2?`\r
`:`
`}create(I){const o=this.k(I),b=this.a;if(this.j&&(o===`\r
`&&(this.c>0||this.d>0)||o===`
`&&(this.c>0||this.e>0)))for(let $=0,O=b.length;$<O;$++){const m=b[$].buffer.replace(/\r\n|\r|\n/g,o),a=(0,M.$7B)(m);b[$]=new M.$0B(m,a)}const R=new F.$_B(b,this.b,o,this.f,this.g,this.h,this.j);return{textBuffer:R,disposable:R}}getFirstLineText(I){return this.a[0].buffer.substr(0,I).split(/\r\n|\r|\n/)[0]}}class D{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(I){if(I.length===0)return;this.a.length===0&&q.$9d(I)&&(this.b=q.$8d,I=I.substr(1));const o=I.charCodeAt(I.length-1);o===13||o>=55296&&o<=56319?(this.m(I.substr(0,I.length-1),!1),this.c=!0,this.d=o):(this.m(I,!1),this.c=!1,this.d=o)}m(I,o){!o&&I.length===0||(this.c?this.n(String.fromCharCode(this.d)+I):this.n(I))}n(I){const o=(0,M.$8B)(this.e,I);this.a.push(new M.$0B(I,o.lineStarts)),this.f+=o.cr,this.g+=o.lf,this.h+=o.crlf,o.isBasicASCII||(this.l=!1,this.j||(this.j=q.$Zd(I)),this.k||(this.k=q.$3d(I)))}finish(I=!0){return this.o(),new E(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,I)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const I=this.a[this.a.length-1];I.buffer+=String.fromCharCode(this.d);const o=(0,M.$7B)(I.buffer);I.lineStarts=o,this.d===13&&this.f++}}}e.$aC=D}),define(rt[29],lt([30,31]),function(it,e){return it.create("vs/platform/contextkey/common/contextkey",e)}),define(rt[32],lt([30,31]),function(it,e){return it.create("vs/platform/contextkey/common/scanner",e)}),define(rt[33],lt([0,1,4,32]),function(it,e,q,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qi=e.TokenType=void 0;var F;(function(o){o[o.LParen=0]="LParen",o[o.RParen=1]="RParen",o[o.Neg=2]="Neg",o[o.Eq=3]="Eq",o[o.NotEq=4]="NotEq",o[o.Lt=5]="Lt",o[o.LtEq=6]="LtEq",o[o.Gt=7]="Gt",o[o.GtEq=8]="GtEq",o[o.RegexOp=9]="RegexOp",o[o.RegexStr=10]="RegexStr",o[o.True=11]="True",o[o.False=12]="False",o[o.In=13]="In",o[o.Not=14]="Not",o[o.And=15]="And",o[o.Or=16]="Or",o[o.Str=17]="Str",o[o.QuotedStr=18]="QuotedStr",o[o.Error=19]="Error",o[o.EOF=20]="EOF"})(F||(e.TokenType=F={}));function E(...o){switch(o.length){case 1:return(0,M.localize)(0,null,o[0]);case 2:return(0,M.localize)(1,null,o[0],o[1]);case 3:return(0,M.localize)(2,null,o[0],o[1],o[2]);default:return}}const D=(0,M.localize)(3,null),V=(0,M.localize)(4,null);class I{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,q.$6)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(b=>b.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(b){return this.c=b,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const R=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:R})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const R=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:R})}else this.h(126)?this.k(9):this.l(E("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(E("&&"));break;case 124:this.h(124)?this.k(16):this.l(E("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(b){return this.r()||this.c.charCodeAt(this.e)!==b?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(b){this.f.push({type:b,offset:this.d})}l(b){const R=this.d,$=this.c.substring(this.d,this.e),O={type:19,offset:this.d,lexeme:$};this.g.push({offset:R,lexeme:$,additionalInfo:b}),this.f.push(O)}n(){this.m.lastIndex=this.d;const b=this.m.exec(this.c);if(b){this.e=this.d+b[0].length;const R=this.c.substring(this.d,this.e),$=I.b.get(R);$?this.k($):this.f.push({type:17,lexeme:R,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(D);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let b=this.e,R=!1,$=!1;for(;;){if(b>=this.c.length){this.e=b,this.l(V);return}const m=this.c.charCodeAt(b);if(R)R=!1;else if(m===47&&!$){b++;break}else m===91?$=!0:m===92?R=!0:m===93&&($=!1);b++}for(;b<this.c.length&&I.a.has(this.c.charCodeAt(b));)b++;this.e=b;const O=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:O,offset:this.d})}r(){return this.e>=this.c.length}}e.$qi=I}),define(rt[34],lt([0,1]),function(it,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oh=e.$nh=e.$mh=e._util=void 0;var q;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function V(I){return I[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=V})(q||(e._util=q={})),e.$mh=F("instantiationService");function M(D,V,I){V[q.DI_TARGET]===V?V[q.DI_DEPENDENCIES].push({id:D,index:I}):(V[q.DI_DEPENDENCIES]=[{id:D,index:I}],V[q.DI_TARGET]=V)}function F(D){if(q.serviceIds.has(D))return q.serviceIds.get(D);const V=function(I,o,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");M(V,I,b)};return V.toString=()=>D,q.serviceIds.set(D,V),V}e.$nh=F;function E(D){return D}e.$oh=E}),define(rt[35],lt([0,1,2,3,33,34,29,4]),function(it,e,q,M,F,E,D,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Oi=e.$Ni=e.$Mi=e.$Li=e.$Ki=e.$Ji=e.$Ii=e.$Hi=e.$Gi=e.$Fi=e.$Ei=e.$Di=e.$Ci=e.$Bi=e.$Ai=e.$zi=e.$yi=e.$xi=e.$wi=e.$vi=e.$ui=e.$ti=e.$si=e.ContextKeyExprType=e.$ri=void 0;const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",q.$j),I.set("isLinux",q.$k),I.set("isWindows",q.$i),I.set("isWeb",q.$o),I.set("isMacNative",q.$j&&!q.$o),I.set("isEdge",q.$G),I.set("isFirefox",q.$E),I.set("isChrome",q.$D),I.set("isSafari",q.$F);function o(d,t){if(I.get(d)!==void 0)throw(0,V.$5)("contextkey.setConstant(k, v) invoked with already set constant `k`");I.set(d,t)}e.$ri=o;const b=Object.prototype.hasOwnProperty;var R;(function(d){d[d.False=0]="False",d[d.True=1]="True",d[d.Defined=2]="Defined",d[d.Not=3]="Not",d[d.Equals=4]="Equals",d[d.NotEquals=5]="NotEquals",d[d.And=6]="And",d[d.Regex=7]="Regex",d[d.NotRegex=8]="NotRegex",d[d.Or=9]="Or",d[d.In=10]="In",d[d.NotIn=11]="NotIn",d[d.Greater=12]="Greater",d[d.GreaterEquals=13]="GreaterEquals",d[d.Smaller=14]="Smaller",d[d.SmallerEquals=15]="SmallerEquals"})(R||(e.ContextKeyExprType=R={}));const $={regexParsingWithErrorRecovery:!0},O=(0,D.localize)(0,null),m=(0,D.localize)(1,null),a=(0,D.localize)(2,null),s=(0,D.localize)(3,null),u=(0,D.localize)(4,null),n=(0,D.localize)(5,null),r=(0,D.localize)(6,null),i=(0,D.localize)(7,null);class h{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(t=$){this.k=t,this.d=new F.$qi,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(t){if(t===""){this.h.push({message:O,offset:0,lexeme:"",additionalInfo:m});return}this.f=this.d.reset(t).scan(),this.g=0,this.h=[];try{const l=this.l();if(!this.E()){const g=this.D(),v=g.type===17?n:void 0;throw this.h.push({message:u,offset:g.offset,lexeme:F.$qi.getLexeme(g),additionalInfo:v}),h.c}return l}catch(l){if(l!==h.c)throw l;return}}l(){return this.m()}m(){const t=[this.o()];for(;this.y(16);){const l=this.o();t.push(l)}return t.length===1?t[0]:c.or(...t)}o(){const t=[this.s()];for(;this.y(15);){const l=this.s();t.push(l)}return t.length===1?t[0]:c.and(...t)}s(){if(this.y(2)){const t=this.D();switch(t.type){case 11:return this.z(),P.INSTANCE;case 12:return this.z(),f.INSTANCE;case 0:{this.z();const l=this.l();return this.A(1,s),l?.negate()}case 17:return this.z(),z.create(t.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",t)}}return this.t()}t(){const t=this.D();switch(t.type){case 11:return this.z(),c.true();case 12:return this.z(),c.false();case 0:{this.z();const l=this.l();return this.A(1,s),l}case 17:{const l=t.lexeme;if(this.z(),this.y(9)){const v=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),v.type!==10)throw this.B("REGEX",v);const W=v.lexeme,X=W.lastIndexOf("/"),J=X===W.length-1?void 0:this.w(W.substring(X+1));let st;try{st=new RegExp(W.substring(1,X),J)}catch{throw this.B("REGEX",v)}return y.create(l,st)}switch(v.type){case 10:case 19:{const W=[v.lexeme];this.z();let X=this.D(),J=0;for(let ut=0;ut<v.lexeme.length;ut++)v.lexeme.charCodeAt(ut)===40?J++:v.lexeme.charCodeAt(ut)===41&&J--;for(;!this.E()&&X.type!==15&&X.type!==16;){switch(X.type){case 0:J++;break;case 1:J--;break;case 10:case 18:for(let ut=0;ut<X.lexeme.length;ut++)X.lexeme.charCodeAt(ut)===40?J++:v.lexeme.charCodeAt(ut)===41&&J--}if(J<0)break;W.push(F.$qi.getLexeme(X)),this.z(),X=this.D()}const st=W.join(""),ht=st.lastIndexOf("/"),ct=ht===st.length-1?void 0:this.w(st.substring(ht+1));let at;try{at=new RegExp(st.substring(1,ht),ct)}catch{throw this.B("REGEX",v)}return c.regex(l,at)}case 18:{const W=v.lexeme;this.z();let X=null;if(!(0,M.$jd)(W)){const J=W.indexOf("/"),st=W.lastIndexOf("/");if(J!==st&&J>=0){const ht=W.slice(J+1,st),ct=W[st+1]==="i"?"i":"";try{X=new RegExp(ht,ct)}catch{throw this.B("REGEX",v)}}}if(X===null)throw this.B("REGEX",v);return y.create(l,X)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,a);const v=this.u();return c.notIn(l,v)}switch(this.D().type){case 3:{this.z();const v=this.u();if(this.x().type===18)return c.equals(l,v);switch(v){case"true":return c.has(l);case"false":return c.not(l);default:return c.equals(l,v)}}case 4:{this.z();const v=this.u();if(this.x().type===18)return c.notEquals(l,v);switch(v){case"true":return c.not(l);case"false":return c.has(l);default:return c.notEquals(l,v)}}case 5:return this.z(),x.create(l,this.u());case 6:return this.z(),_.create(l,this.u());case 7:return this.z(),K.create(l,this.u());case 8:return this.z(),tt.create(l,this.u());case 13:return this.z(),c.in(l,this.u());default:return c.has(l)}}case 20:throw this.h.push({message:r,offset:t.offset,lexeme:"",additionalInfo:i}),h.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const t=this.D();switch(t.type){case 17:case 18:return this.z(),t.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(t){return t.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(t){return this.C(t)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(t,l){if(this.C(t))return this.z();throw this.B(l,this.D())}B(t,l,g){const v=(0,D.localize)(8,null,t,F.$qi.getLexeme(l)),W=l.offset,X=F.$qi.getLexeme(l);return this.h.push({message:v,offset:W,lexeme:X,additionalInfo:g}),h.c}C(t){return this.D().type===t}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$si=h;class c{static false(){return P.INSTANCE}static true(){return f.INSTANCE}static has(t){return C.create(t)}static equals(t,l){return B.create(t,l)}static notEquals(t,l){return p.create(t,l)}static regex(t,l){return y.create(t,l)}static in(t,l){return H.create(t,l)}static notIn(t,l){return A.create(t,l)}static not(t){return z.create(t)}static and(...t){return N.create(t,null,!0)}static or(...t){return j.create(t,null,!0)}static greater(t,l){return K.create(t,l)}static greaterEquals(t,l){return tt.create(t,l)}static smaller(t,l){return x.create(t,l)}static smallerEquals(t,l){return _.create(t,l)}static{this.c=new h({regexParsingWithErrorRecovery:!1})}static deserialize(t){return t==null?void 0:this.c.parse(t)}}e.$ti=c;function w(d){const t=new h({regexParsingWithErrorRecovery:!1});return d.map(l=>(t.parse(l),t.lexingErrors.length>0?t.lexingErrors.map(g=>({errorMessage:g.additionalInfo?(0,D.localize)(9,null,g.additionalInfo):(0,D.localize)(10,null),offset:g.offset,length:g.lexeme.length})):t.parsingErrors.length>0?t.parsingErrors.map(g=>({errorMessage:g.additionalInfo?`${g.message}. ${g.additionalInfo}`:g.message,offset:g.offset,length:g.lexeme.length})):[]))}e.$ui=w;function L(d,t){const l=d?d.substituteConstants():void 0,g=t?t.substituteConstants():void 0;return!l&&!g?!0:!l||!g?!1:l.equals(g)}e.$vi=L;function S(d,t){return d.cmp(t)}class P{static{this.INSTANCE=new P}constructor(){this.type=0}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!1}serialize(){return"false"}keys(){return[]}map(t){return this}negate(){return f.INSTANCE}}e.$wi=P;class f{static{this.INSTANCE=new f}constructor(){this.type=1}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!0}serialize(){return"true"}keys(){return[]}map(t){return this}negate(){return P.INSTANCE}}e.$xi=f;class C{static create(t,l=null){const g=I.get(t);return typeof g=="boolean"?g?f.INSTANCE:P.INSTANCE:new C(t,l)}constructor(t,l){this.key=t,this.c=l,this.type=2}cmp(t){return t.type!==this.type?this.type-t.type:T(this.key,t.key)}equals(t){return t.type===this.type?this.key===t.key:!1}substituteConstants(){const t=I.get(this.key);return typeof t=="boolean"?t?f.INSTANCE:P.INSTANCE:this}evaluate(t){return!!t.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(t){return t.mapDefined(this.key)}negate(){return this.c||(this.c=z.create(this.key,this)),this.c}}e.$yi=C;class B{static create(t,l,g=null){if(typeof l=="boolean")return l?C.create(t,g):z.create(t,g);const v=I.get(t);return typeof v=="boolean"?l===(v?"true":"false")?f.INSTANCE:P.INSTANCE:new B(t,l,g)}constructor(t,l,g){this.c=t,this.d=l,this.f=g,this.type=4}cmp(t){return t.type!==this.type?this.type-t.type:G(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){const t=I.get(this.c);if(typeof t=="boolean"){const l=t?"true":"false";return this.d===l?f.INSTANCE:P.INSTANCE}return this}evaluate(t){return t.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(t){return t.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=p.create(this.c,this.d,this)),this.f}}e.$zi=B;class H{static create(t,l){return new H(t,l)}constructor(t,l){this.d=t,this.f=l,this.type=10,this.c=null}cmp(t){return t.type!==this.type?this.type-t.type:G(this.d,this.f,t.d,t.f)}equals(t){return t.type===this.type?this.d===t.d&&this.f===t.f:!1}substituteConstants(){return this}evaluate(t){const l=t.getValue(this.f),g=t.getValue(this.d);return Array.isArray(l)?l.includes(g):typeof g=="string"&&typeof l=="object"&&l!==null?b.call(l,g):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(t){return t.mapIn(this.d,this.f)}negate(){return this.c||(this.c=A.create(this.d,this.f)),this.c}}e.$Ai=H;class A{static create(t,l){return new A(t,l)}constructor(t,l){this.d=t,this.f=l,this.type=11,this.c=H.create(t,l)}cmp(t){return t.type!==this.type?this.type-t.type:this.c.cmp(t.c)}equals(t){return t.type===this.type?this.c.equals(t.c):!1}substituteConstants(){return this}evaluate(t){return!this.c.evaluate(t)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(t){return t.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$Bi=A;class p{static create(t,l,g=null){if(typeof l=="boolean")return l?z.create(t,g):C.create(t,g);const v=I.get(t);return typeof v=="boolean"?l===(v?"true":"false")?P.INSTANCE:f.INSTANCE:new p(t,l,g)}constructor(t,l,g){this.c=t,this.d=l,this.f=g,this.type=5}cmp(t){return t.type!==this.type?this.type-t.type:G(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){const t=I.get(this.c);if(typeof t=="boolean"){const l=t?"true":"false";return this.d===l?P.INSTANCE:f.INSTANCE}return this}evaluate(t){return t.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(t){return t.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=B.create(this.c,this.d,this)),this.f}}e.$Ci=p;class z{static create(t,l=null){const g=I.get(t);return typeof g=="boolean"?g?P.INSTANCE:f.INSTANCE:new z(t,l)}constructor(t,l){this.c=t,this.d=l,this.type=3}cmp(t){return t.type!==this.type?this.type-t.type:T(this.c,t.c)}equals(t){return t.type===this.type?this.c===t.c:!1}substituteConstants(){const t=I.get(this.c);return typeof t=="boolean"?t?P.INSTANCE:f.INSTANCE:this}evaluate(t){return!t.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(t){return t.mapNot(this.c)}negate(){return this.d||(this.d=C.create(this.c,this)),this.d}}e.$Di=z;function Z(d,t){if(typeof d=="string"){const l=parseFloat(d);isNaN(l)||(d=l)}return typeof d=="string"||typeof d=="number"?t(d):P.INSTANCE}class K{static create(t,l,g=null){return Z(l,v=>new K(t,v,g))}constructor(t,l,g){this.c=t,this.d=l,this.f=g,this.type=12}cmp(t){return t.type!==this.type?this.type-t.type:G(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(t){return t.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}e.$Ei=K;class tt{static create(t,l,g=null){return Z(l,v=>new tt(t,v,g))}constructor(t,l,g){this.c=t,this.d=l,this.f=g,this.type=13}cmp(t){return t.type!==this.type?this.type-t.type:G(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(t){return t.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=x.create(this.c,this.d,this)),this.f}}e.$Fi=tt;class x{static create(t,l,g=null){return Z(l,v=>new x(t,v,g))}constructor(t,l,g){this.c=t,this.d=l,this.f=g,this.type=14}cmp(t){return t.type!==this.type?this.type-t.type:G(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(t){return t.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=tt.create(this.c,this.d,this)),this.f}}e.$Gi=x;class _{static create(t,l,g=null){return Z(l,v=>new _(t,v,g))}constructor(t,l,g){this.c=t,this.d=l,this.f=g,this.type=15}cmp(t){return t.type!==this.type?this.type-t.type:G(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(t){return t.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=K.create(this.c,this.d,this)),this.f}}e.$Hi=_;class y{static create(t,l){return new y(t,l)}constructor(t,l){this.d=t,this.f=l,this.type=7,this.c=null}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.d<t.d)return-1;if(this.d>t.d)return 1;const l=this.f?this.f.source:"",g=t.f?t.f.source:"";return l<g?-1:l>g?1:0}equals(t){if(t.type===this.type){const l=this.f?this.f.source:"",g=t.f?t.f.source:"";return this.d===t.d&&l===g}return!1}substituteConstants(){return this}evaluate(t){const l=t.getValue(this.d);return this.f?this.f.test(l):!1}serialize(){const t=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${t}`}keys(){return[this.d]}map(t){return t.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=Y.create(this)),this.c}}e.$Ii=y;class Y{static create(t){return new Y(t)}constructor(t){this.c=t,this.type=8}cmp(t){return t.type!==this.type?this.type-t.type:this.c.cmp(t.c)}equals(t){return t.type===this.type?this.c.equals(t.c):!1}substituteConstants(){return this}evaluate(t){return!this.c.evaluate(t)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(t){return new Y(this.c.map(t))}negate(){return this.c}}e.$Ji=Y;function nt(d){let t=null;for(let l=0,g=d.length;l<g;l++){const v=d[l].substituteConstants();if(d[l]!==v&&t===null){t=[];for(let W=0;W<l;W++)t[W]=d[W]}t!==null&&(t[l]=v)}return t===null?d:t}class N{static create(t,l,g){return N.d(t,l,g)}constructor(t,l){this.expr=t,this.c=l,this.type=6}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let l=0,g=this.expr.length;l<g;l++){const v=S(this.expr[l],t.expr[l]);if(v!==0)return v}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let l=0,g=this.expr.length;l<g;l++)if(!this.expr[l].equals(t.expr[l]))return!1;return!0}return!1}substituteConstants(){const t=nt(this.expr);return t===this.expr?this:N.create(t,this.c,!1)}evaluate(t){for(let l=0,g=this.expr.length;l<g;l++)if(!this.expr[l].evaluate(t))return!1;return!0}static d(t,l,g){const v=[];let W=!1;for(const X of t)if(X){if(X.type===1){W=!0;continue}if(X.type===0)return P.INSTANCE;if(X.type===6){v.push(...X.expr);continue}v.push(X)}if(v.length===0&&W)return f.INSTANCE;if(v.length!==0){if(v.length===1)return v[0];v.sort(S);for(let X=1;X<v.length;X++)v[X-1].equals(v[X])&&(v.splice(X,1),X--);if(v.length===1)return v[0];for(;v.length>1;){const X=v[v.length-1];if(X.type!==9)break;v.pop();const J=v.pop(),st=v.length===0,ht=j.create(X.expr.map(ct=>N.create([ct,J],null,g)),null,st);ht&&(v.push(ht),v.sort(S))}if(v.length===1)return v[0];if(g){for(let X=0;X<v.length;X++)for(let J=X+1;J<v.length;J++)if(v[X].negate().equals(v[J]))return P.INSTANCE;if(v.length===1)return v[0]}return new N(v,l)}}serialize(){return this.expr.map(t=>t.serialize()).join(" && ")}keys(){const t=[];for(const l of this.expr)t.push(...l.keys());return t}map(t){return new N(this.expr.map(l=>l.map(t)),null)}negate(){if(!this.c){const t=[];for(const l of this.expr)t.push(l.negate());this.c=j.create(t,this,!0)}return this.c}}e.$Ki=N;class j{static create(t,l,g){return j.d(t,l,g)}constructor(t,l){this.expr=t,this.c=l,this.type=9}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let l=0,g=this.expr.length;l<g;l++){const v=S(this.expr[l],t.expr[l]);if(v!==0)return v}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let l=0,g=this.expr.length;l<g;l++)if(!this.expr[l].equals(t.expr[l]))return!1;return!0}return!1}substituteConstants(){const t=nt(this.expr);return t===this.expr?this:j.create(t,this.c,!1)}evaluate(t){for(let l=0,g=this.expr.length;l<g;l++)if(this.expr[l].evaluate(t))return!0;return!1}static d(t,l,g){let v=[],W=!1;if(t){for(let X=0,J=t.length;X<J;X++){const st=t[X];if(st){if(st.type===0){W=!0;continue}if(st.type===1)return f.INSTANCE;if(st.type===9){v=v.concat(st.expr);continue}v.push(st)}}if(v.length===0&&W)return P.INSTANCE;v.sort(S)}if(v.length!==0){if(v.length===1)return v[0];for(let X=1;X<v.length;X++)v[X-1].equals(v[X])&&(v.splice(X,1),X--);if(v.length===1)return v[0];if(g){for(let X=0;X<v.length;X++)for(let J=X+1;J<v.length;J++)if(v[X].negate().equals(v[J]))return f.INSTANCE;if(v.length===1)return v[0]}return new j(v,l)}}serialize(){return this.expr.map(t=>t.serialize()).join(" || ")}keys(){const t=[];for(const l of this.expr)t.push(...l.keys());return t}map(t){return new j(this.expr.map(l=>l.map(t)),null)}negate(){if(!this.c){const t=[];for(const l of this.expr)t.push(l.negate());for(;t.length>1;){const l=t.shift(),g=t.shift(),v=[];for(const W of U(l))for(const X of U(g))v.push(N.create([W,X],null,!1));t.unshift(j.create(v,null,!1))}this.c=j.create(t,this,!0)}return this.c}}e.$Li=j;class k extends C{static{this.d=[]}static all(){return k.d.values()}constructor(t,l,g){super(t,null),this.f=l,typeof g=="object"?k.d.push({...g,key:t}):g!==!0&&k.d.push({key:t,description:g,type:l!=null?typeof l:void 0})}bindTo(t){return t.createKey(this.key,this.f)}getValue(t){return t.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(t){return B.create(this.key,t)}notEqualsTo(t){return p.create(this.key,t)}}e.$Mi=k,e.$Ni=(0,E.$nh)("contextKeyService");function T(d,t){return d<t?-1:d>t?1:0}function G(d,t,l,g){return d<l?-1:d>l?1:t<g?-1:t>g?1:0}function Q(d,t){if(d.type===0||t.type===1)return!0;if(d.type===9)return t.type===9?et(d.expr,t.expr):!1;if(t.type===9){for(const l of t.expr)if(Q(d,l))return!0;return!1}if(d.type===6){if(t.type===6)return et(t.expr,d.expr);for(const l of d.expr)if(Q(l,t))return!0;return!1}return d.equals(t)}e.$Oi=Q;function et(d,t){let l=0,g=0;for(;l<d.length&&g<t.length;){const v=d[l].cmp(t[g]);if(v<0)return!1;v===0&&l++,g++}return l===d.length}function U(d){return d.type===9?d.expr:[d]}}),define(rt[36],lt([0,1,6,24,42,20,11,5,2,35]),function(it,e,q,M,F,E,D,V,I,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$GH=e.$FH=e.$EH=e.$DH=e.CellStatusbarAlignment=e.$CH=e.$BH=e.$AH=e.NotebookEditorPriority=e.$zH=e.$yH=e.$xH=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$wH=e.$vH=e.$uH=e.$tH=e.CellKind=e.$sH=e.$rH=e.$qH=void 0,e.$qH="workbench.editor.notebook",e.$rH="workbench.editor.notebookTextDiffEditor",e.$sH="workbench.editor.interactive";var b;(function(y){y[y.Markup=1]="Markup",y[y.Code=2]="Code"})(b||(e.CellKind=b={})),e.$tH=["application/json","application/javascript","text/html","image/svg+xml",E.$sr.latex,E.$sr.markdown,"image/png","image/jpeg",E.$sr.text],e.$uH=[E.$sr.latex,E.$sr.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",E.$sr.text],e.$vH=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$wH="_notAvailable";var R;(function(y){y[y.Running=1]="Running",y[y.Idle=2]="Idle"})(R||(e.NotebookRunState=R={}));var $;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})($||(e.NotebookCellExecutionState=$={}));var O;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(O||(e.NotebookExecutionState=O={}));var m;(function(y){y[y.WithHardKernelDependency=0]="WithHardKernelDependency",y[y.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",y[y.Pure=2]="Pure",y[y.Never=3]="Never"})(m||(e.NotebookRendererMatch=m={}));var a;(function(y){y.Always="always",y.Never="never",y.Optional="optional"})(a||(e.RendererMessagingSpec=a={}));var s;(function(y){y[y.ModelChange=1]="ModelChange",y[y.Move=2]="Move",y[y.ChangeCellLanguage=5]="ChangeCellLanguage",y[y.Initialize=6]="Initialize",y[y.ChangeCellMetadata=7]="ChangeCellMetadata",y[y.Output=8]="Output",y[y.OutputItem=9]="OutputItem",y[y.ChangeCellContent=10]="ChangeCellContent",y[y.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",y[y.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",y[y.ChangeCellMime=13]="ChangeCellMime",y[y.Unknown=100]="Unknown"})(s||(e.NotebookCellsChangeType=s={}));var u;(function(y){y[y.Handle=0]="Handle",y[y.Index=1]="Index"})(u||(e.SelectionStateType=u={}));var n;(function(y){y[y.Replace=1]="Replace",y[y.Output=2]="Output",y[y.Metadata=3]="Metadata",y[y.CellLanguage=4]="CellLanguage",y[y.DocumentMetadata=5]="DocumentMetadata",y[y.Move=6]="Move",y[y.OutputItems=7]="OutputItems",y[y.PartialMetadata=8]="PartialMetadata",y[y.PartialInternalMetadata=9]="PartialInternalMetadata"})(n||(e.CellEditType=n={}));var r;(function(y){y.scheme=D.Schemas.vscodeNotebookCell;const Y=["W","X","Y","Z","a","b","c","d","e","f"],nt=new RegExp(`^[${Y.join("")}]+`),N=7;function j(U,d){const t=d.toString(N),g=`${t.length<Y.length?Y[t.length-1]:"z"}${t}s${(0,q.$4b)(q.$Jb.fromString(U.scheme),!0,!0)}`;return U.with({scheme:y.scheme,fragment:g})}y.generate=j;function k(U){if(U.scheme!==y.scheme)return;const d=U.fragment.indexOf("s");if(d<0)return;const t=parseInt(U.fragment.substring(0,d).replace(nt,""),N),l=(0,q.$3b)(U.fragment.substring(d+1)).toString();if(!isNaN(t))return{handle:t,notebook:U.with({scheme:l,fragment:null})}}y.parse=k;function T(U,d){return U.with({scheme:D.Schemas.vscodeNotebookCellOutput,fragment:`op${d??""},${U.scheme!==D.Schemas.file?U.scheme:""}`})}y.generateCellOutputUri=T;function G(U){if(U.scheme!==D.Schemas.vscodeNotebookCellOutput)return;const d=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(U.fragment);if(!d)return;const t=d[1]&&d[1]!==""?d[1]:void 0,l=d[2];return{outputId:t,notebook:U.with({scheme:l||D.Schemas.file,fragment:null})}}y.parseCellOutputUri=G;function Q(U,d,t){return y.generate(U,d).with({scheme:t})}y.generateCellPropertyUri=Q;function et(U,d){if(U.scheme===d)return y.parse(U.with({scheme:y.scheme}))}y.parseCellPropertyUri=et})(r||(e.CellUri=r={}));const i=y=>I.$i?y.replace(/\//g,"\\"):y;class h{constructor(Y=[],nt=e.$tH){this.e=nt,this.d=[...new Set(Y)].map(N=>({pattern:N,matches:M.$cj(i(N))}))}sort(Y){const nt=new Map(F.Iterable.map(Y,j=>[j,i(j)]));let N=[];for(const{matches:j}of this.d)for(const[k,T]of nt)if(j(T)){N.push(k),nt.delete(k);break}return nt.size&&(N=N.concat([...nt.keys()].sort((j,k)=>this.e.indexOf(j)-this.e.indexOf(k)))),N}prioritize(Y,nt){const N=this.f(Y);if(N===-1){this.d.unshift({pattern:Y,matches:M.$cj(i(Y))});return}const j=new Set(nt.map(T=>this.f(T,N)));j.delete(-1);const k=Array.from(j).sort();this.d.splice(N+1,0,...k.map(T=>this.d[T]));for(let T=k.length-1;T>=0;T--)this.d.splice(k[T],1)}toArray(){return this.d.map(Y=>Y.pattern)}f(Y,nt=this.d.length){const N=i(Y);for(let j=0;j<nt;j++)if(this.d[j].matches(N))return j;return-1}}e.$xH=h;function c(y,Y,nt,N=(j,k)=>j===k){const j=[];function k(Q,et,U){if(et===0&&U.length===0)return;const d=j[j.length-1];d&&d.start+d.deleteCount===Q?(d.deleteCount+=et,d.toInsert.push(...U)):j.push({start:Q,deleteCount:et,toInsert:U})}let T=0,G=0;for(;;){if(T===y.length){k(T,0,Y.slice(G));break}if(G===Y.length){k(T,y.length-T,[]);break}const Q=y[T],et=Y[G];if(N(Q,et)){T+=1,G+=1;continue}nt(et)?(k(T,1,[]),T+=1):(k(T,0,[et]),G+=1)}return j}e.$yH=c,e.$zH=new o.$Mi("notebookEditorCursorAtBoundary","none");var w;(function(y){y.default="default",y.option="option"})(w||(e.NotebookEditorPriority=w={}));function L(y){const Y=y;return!!((typeof Y.include=="string"||M.$dj(Y.include))&&(typeof Y.exclude=="string"||M.$dj(Y.exclude)))}e.$AH=L;function S(y,Y,nt){if(Array.isArray(y.viewType)&&y.viewType.indexOf(Y)>=0||y.viewType===Y)return!0;if(y.filenamePattern){const N=L(y.filenamePattern)?y.filenamePattern.include:y.filenamePattern,j=L(y.filenamePattern)?y.filenamePattern.exclude:void 0;if(M.$bj(N,(0,V.$ec)(nt.fsPath).toLowerCase()))return!(j&&M.$bj(j,(0,V.$ec)(nt.fsPath).toLowerCase()))}return!1}e.$BH=S,e.$CH={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScroll:"notebook.stickyScroll.enabled",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",formatOnSave:"notebook.formatOnSave.enabled",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave"};var P;(function(y){y[y.Left=1]="Left",y[y.Right=2]="Right"})(P||(e.CellStatusbarAlignment=P={}));class f{static{this.d="notebook/"}static create(Y){return`${f.d}${Y}`}static parse(Y){if(Y.startsWith(f.d))return Y.substring(f.d.length)}}e.$DH=f;function C(y){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(y)}e.$EH=C;const B=new TextDecoder;function H(y){const Y=[];let nt=!1;for(const T of y)(Y.length===0||nt)&&(Y.push(T),nt=!0);let N=z(Y);const j=q.$Jb.concat(Y.map(T=>q.$Jb.wrap(T))),k=_(j);return N=N||k.byteLength!==j.byteLength,{data:k,didCompression:N}}e.$FH=H,e.$GH=`${String.fromCharCode(27)}[A`;const A=e.$GH.split("").map(y=>y.charCodeAt(0)),p=10;function z(y){let Y=!1;return y.forEach((nt,N)=>{if(N===0||nt.length<e.$GH.length)return;const j=y[N-1],k=nt.subarray(0,e.$GH.length);if(k[0]===A[0]&&k[1]===A[1]&&k[2]===A[2]){const T=j.lastIndexOf(p);if(T===-1)return;Y=!0,y[N-1]=j.subarray(0,T),y[N]=nt.subarray(e.$GH.length)}}),Y}function Z(y){let Y=y;do y=Y,Y=y.replace(/[^\n]\x08/gm,"");while(Y.length<y.length);return y}function K(y){for(y=y.replace(/\r+\n/gm,`
`);y.search(/\r[^$]/g)>-1;){const Y=y.match(/^(.*)\r+/m)[1];let nt=y.match(/\r+(.*)$/m)[1];nt=nt+Y.slice(nt.length,Y.length),y=y.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,nt)}return y}const tt="\b".charCodeAt(0),x="\r".charCodeAt(0);function _(y){return!y.buffer.includes(tt)&&!y.buffer.includes(x)?y:q.$Jb.fromString(K(Z(B.decode(y.buffer))))}}),define(rt[43],lt([0,1,44,45,12,28,36,9,19]),function(it,e,q,M,F,E,D,V,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.NotebookEditorSimpleWorker=void 0;function o(a){let s=(0,M.$di)(104579,0);for(let u=0;u<a.buffer.length;u++)s=(0,M.$ci)(a.buffer[u],s);return s}class b{get textBuffer(){if(this.a)return this.a;const s=new E.$aC;s.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const u=s.finish(!0);return this.a=u.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,M.$bi)(this.getValue())),this.b}constructor(s,u,n,r,i,h,c){this.handle=s,this.d=u,this.language=n,this.cellKind=r,this.outputs=i,this.metadata=h,this.internalMetadata=c,this.b=null,this.c=null}getFullModelRange(){const s=this.textBuffer.getLineCount();return new V.$Mr(1,1,s,this.textBuffer.getLineLength(s)+1)}getValue(){const s=this.getFullModelRange();return this.textBuffer.getValueInRange(s,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,M.$bi)([(0,M.$bi)(this.language),(0,M.$bi)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(s=>({outputs:s.outputs.map(u=>({mime:u.mime,data:o(u.data)})),metadata:s.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,M.$bi)([(0,M.$bi)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class R{constructor(s,u,n){this.uri=s,this.cells=u,this.metadata=n}acceptModelChanged(s){s.rawEvents.forEach(u=>{if(u.kind===D.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(u.changes);else if(u.kind===D.NotebookCellsChangeType.Move){const n=this.cells.splice(u.index,1);this.cells.splice(u.newIdx,0,...n)}else if(u.kind===D.NotebookCellsChangeType.Output){const n=this.cells[u.index];n.outputs=u.outputs}else if(u.kind===D.NotebookCellsChangeType.ChangeCellLanguage){this.a(u.index);const n=this.cells[u.index];n.language=u.language}else if(u.kind===D.NotebookCellsChangeType.ChangeCellMetadata){this.a(u.index);const n=this.cells[u.index];n.metadata=u.metadata}else if(u.kind===D.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(u.index);const n=this.cells[u.index];n.internalMetadata=u.internalMetadata}})}a(s){if(s<0||s>=this.cells.length)throw new Error(`Illegal index ${s}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(s){s.reverse().forEach(u=>{const r=u[2].map(i=>new b(i.handle,i.source,i.language,i.cellKind,i.outputs,i.metadata));this.cells.splice(u[0],u[1],...r)})}}class ${constructor(s){this.textModel=s}getElements(){const s=new Int32Array(this.textModel.cells.length);for(let u=0;u<this.textModel.cells.length;u++)s[u]=this.textModel.cells[u].getComparisonValue();return s}getCellHash(s){const u=Array.isArray(s.source)?s.source.join(`
`):s.source;return(0,M.$bi)([(0,M.$bi)(u),s.metadata])}}class O{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(s,u){this.a[s]=new R(F.URI.parse(s),u.cells.map(n=>new b(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata)),u.metadata)}acceptModelChanged(s,u){this.a[s]?.acceptModelChanged(u)}acceptRemovedModel(s){this.a[s]&&delete this.a[s]}computeDiff(s,u){const n=this.b(s),r=this.b(u);return{cellsDiff:new q.$mu(new $(n),new $(r)).ComputeDiff(!1)}}canPromptRecommendation(s){const n=this.b(s).cells;for(let r=0;r<n.length;r++){const i=n[r];if(i.cellKind===D.CellKind.Markup||i.language!=="python")continue;const h=i.textBuffer.getLineCount(),c=Math.min(h,20),w=new V.$Mr(1,1,c,i.textBuffer.getLineLength(c)+1),S=new I.$1B("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!S)continue;if(i.textBuffer.findMatchesLineByLine(w,S,!0,1).length>0)return!0}return!1}b(s){return this.a[s]}}e.NotebookEditorSimpleWorker=O;function m(a){return new O}e.create=m})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/6c3e3dba23e8fadc360aed75ce363ba185c49794/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
